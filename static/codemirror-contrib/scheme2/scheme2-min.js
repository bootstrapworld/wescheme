(function(){function B(a,b){var e=function(d,n){for(var r=!1;;){if(d.eol())return!0;var x=d.next();if(x==n&&!r)break;r=!r&&"\\"==x}return!1},c=RegExp("[\\s\\u00a0]"),f=RegExp("[\\s\\(\\)\\[\\]\\{\\}\\\"\\,\\'\\`\\;]"),h=RegExp("[^\\s\\(\\)\\[\\]\\{\\}\\\"\\,\\'\\`\\;]"),k=[RegExp("^((?:(?:\\#[ei])?[+\\-]?(?:(?:\\d+\\/\\d+)|(?:(?:\\d+\\.\\d+|\\d+\\.|\\.\\d+)(?:[eE][+\\-]?\\d+)?)|(?:\\d+(?:[eE][+\\-]?\\d+)?)))?(?:[+\\-](?:(?:\\d+\\/\\d+)|(?:(?:\\d+\\.\\d+|\\d+\\.|\\.\\d+)(?:[eE][+\\-]?\\d+)?)|(?:\\d+(?:[eE][+\\-]?\\d+)?)))i$)"),
/^((?:#[ei])?[+-]inf.0)$/,/^((?:#[ei])?[+-]nan.0)$/,RegExp("^((?:\\#[ei])?[+\\-]?(?:(?:\\d+\\/\\d+)|(?:(?:\\d+\\.\\d+|\\d+\\.|\\.\\d+)(?:[eE][+\\-]?\\d+)?)|(?:\\d+(?:[eE][+\\-]?\\d+)?))$)"),RegExp("^0[xX][0-9A-Fa-f]+$")],t=function(d){for(var n=0;n<k.length;n++)if(k[n].test(d))return!0;return!1},u=function(){a.eatWhile(h);var d=a.current();return t(d)?{type:"number",style:"scheme-number",content:d}:"true"===d||"false"===d?{type:"variable",style:"scheme-boolean",content:d}:{type:"variable",style:"scheme-symbol",
content:d}},l=function(d){'"'===d&&b.inString?b.inString=!1:(b.inString=!0,e(a,'"')||(b.inString=!1));return{type:"string",style:"scheme-string",content:a.current()}},q=function(){if(";"===a.peek()){a.next();e(a);var d=a.current();return{type:"comment",style:"scheme-comment",content:d}}if("\\"===a.peek())return a.next(),a.next(),d=a.current(),{type:"char",style:"scheme-character",content:d};a.eatWhile(h);d=a.current();return t(d)?{type:"number",style:"scheme-number",content:d}:{type:"symbol",style:"scheme-symbol",
content:d}},g=a.next(),m=null;"\n"===g&&(m={type:"whitespace",style:"whitespace",content:a.current()});b.inString?c=l(g):c.test(g)?(a.eatSpace(),c={type:"whitespace",style:"whitespace",content:a.current()}):"#"===g?c=q():";"===g?(a.skipToEnd(),c={type:"comment",style:"scheme-comment",content:a.current()}):c='"'===g?l(g):f.test(g)?{type:g,style:"scheme-punctuation"}:u();m=c;m.value=a.current();m.column=a.column();return m}var y=function(a){return"("===a||"["===a||"{"===a},z=function(a){return")"===
a||"]"===a||"}"===a},C=function(a){for(var b=[],e=[],c=0,f=[];a!==v;){c++;f.push(a[0]);if(y(a[0].type))if(0===e.length)break;else{var h=a[0].value,k=e[e.length-1];if("("===h&&")"===k||"["===h&&"]"===k||"{"===h&&"}"===k)e.pop();else return b}else z(a[0].type)&&e.push(a[0].type);a=a[1]}if(a===v)return b;for(a=a[1];a!==v&&("whitespace"!==a[0].type||"\n"!==a[0].value);)f.push(a[0]),a=a[1];b=[];for(a=f.length-1;0<=a;a--)a<c&&b.push({type:f[a].type,value:f[a].value,column:f[a].column});return b},G=function(a){if(0===
a.length)return 0;var b=p(a,0);b=-1===b?!1:/^begin/.test(a[b].value)||w(a[b].value,D);if(b)return A(a);b=p(a,0);b=-1===b?!1:/^def/.test(a[b].value)||w(a[b].value,E);if(b)return b=p(a,0),a=-1===b?0:a[b].column+1,a;b=p(a,0);b=-1===b?!1:w(a[b].value,F);return b?(b=p(a,0),a=-1===b?0:-1===p(a,1)?a[b].column+4:a[b].column+1,a):A(a,0)},p=function(a,b){for(var e=0,c=0;c<a.length;c++){if("whitespace"!==a[c].type&&1===e){if(0===b)return c;b--}y(a[c].type)&&e++;z(a[c].type)&&(e=Math.max(e-1,0))}return-1},D=
"case-lambda compound-unit compound-unit/sig cond delay inherit match-lambda match-lambda* override private public sequence unit".split(" "),A=function(a,b){"undefined"===typeof b&&(b=1);for(var e=0,c,f=[];-1!=(c=p(a,e++));)f.push(c);if(0===f.length)return a[0].column+1;if(1===f.length)return a[f[0]].column+b;for(b=f.length-1;1<b&&a[f[b]].line===a[f[b-1]].line;b--);return a[f[b]].column},E=["local","EXAMPLE"],F="cases instantiate super-instantiate syntax/loc quasisyntax/loc lambda let let* letrec recur lambda/kw letrec-values with-syntax with-continuation-mark module match match-let match-let* match-letrec let/cc let/ec letcc catch let-syntax letrec-syntax fluid-let-syntax letrec-syntaxes+values for for/list for/hash for/hasheq for/and for/or for/lists for/first for/last for/fold for* for*/list for*/hash for*/hasheq for*/and for*/or for*/lists for*/first for*/last for*/fold kernel-syntax-case syntax-case syntax-case* syntax-rules syntax-id-rules let-signature fluid-let let-struct let-macro let-values let*-values case when unless let-enumerate class class* class-asi class-asi* class*/names class100 class100* class100-asi class100-asi* class100*/names rec make-object mixin define-some do opt-lambda send* with-method define-record catch shared unit/sig unit/lang with-handlers interface parameterize call-with-input-file call-with-input-file* with-input-from-file with-input-from-port call-with-output-file with-output-to-file with-output-to-port for-all".split(" "),
w=function(a,b){for(var e=0;e<b.length;e++)if(a===b[e])return!0;return!1},v=[],H=function(){return{tokenStack:v,inString:!1}},I=function(a,b){a=B(a,b);b.tokenStack=[a,b.tokenStack];return a.style},J=function(a){a=C(a.tokenStack);return G(a)},K=function(a){return{tokenStack:a.tokenStack,inString:a.inString}},L=function(a){a.tokenStack=[{type:"whitespace",style:"whitespace",content:"\n"},a.tokenStack]};CodeMirror.defineMode("scheme2",function(){return{startState:H,token:I,indent:J,copyState:K,blankLine:L}});
CodeMirror.defineInitHook(function(a){a.showArrows=!1;var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.style.position="absolute";b.style.top="0px";b.style.left="30px";b.style.width="0px";b.style.height="0px";a.getScrollerElement().appendChild(b);var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),c=document.createElementNS("http://www.w3.org/2000/svg","marker"),f=document.createElementNS("http://www.w3.org/2000/svg","path"),h=document.createElementNS("http://www.w3.org/2000/svg",
"g");c.setAttribute("id","arrow");c.setAttribute("markerWidth","10");c.setAttribute("markerHeight","8");c.setAttribute("refX","12");c.setAttribute("refY","6");c.setAttribute("orient","auto");f.setAttribute("d","M2,2 L2,11 L10,6 L2,2");f.setAttribute("style","fill: black");b.appendChild(e);e.appendChild(c);c.appendChild(f);b.appendChild(h);CodeMirror.on(a.getWrapperElement(),"mousemove",function(k){function t(l){var q=a.charCoords(a.posFromIndex(Number(l.start)),"local"),g=a.charCoords(u,"local"),
m=Math.floor(q.right),d=Math.floor(q.top+a.defaultTextHeight()/2),n=Math.floor(g.left),r=Math.floor(g.top+a.defaultTextHeight()/2);l="use"===l.dir?"blue":"red";m="M"+n+","+r+" L"+m+","+d;d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",m);d.setAttribute("style","stroke: "+l+"; fill: none; stroke-width: 1px; marker-end: url(#arrow);");b.style.width=Math.max(parseInt(b.style.width),g.right,q.right)+"px";b.style.height=Math.max(parseInt(b.style.height),g.bottom,q.bottom)+
"px";h.appendChild(d)}if(a.getOption("showArrows")){for(;h.firstChild;)h.removeChild(h.firstChild);b.style.width=b.style.height="10px";var u=a.coordsChar({left:k.clientX,top:k.clientY});(k=a.findMarksAt(u).filter(function(l){return l._targets})[0])&&k._targets.forEach(t)}})});CodeMirror.defineOption("showArrows",!1,function(){})})();
