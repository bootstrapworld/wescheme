var COMPILED=!0,goog=goog||{};goog.global=this||self;goog.exportPath_=function(a,f,k,m){a=a.split(".");m=m||goog.global;a[0]in m||"undefined"==typeof m.execScript||m.execScript("var "+a[0]);for(var l;a.length&&(l=a.shift());)if(a.length||void 0===f)m=m[l]&&m[l]!==Object.prototype[l]?m[l]:m[l]={};else if(!k&&goog.isObject(f)&&goog.isObject(m[l]))for(var x in f)f.hasOwnProperty(x)&&(m[l][x]=f[x]);else m[l]=f};
goog.define=function(a,f){if(!COMPILED){var k=goog.global.CLOSURE_UNCOMPILED_DEFINES,m=goog.global.CLOSURE_DEFINES;k&&void 0===k.nodeType&&Object.prototype.hasOwnProperty.call(k,a)?f=k[a]:m&&void 0===m.nodeType&&Object.prototype.hasOwnProperty.call(m,a)&&(f=m[a])}return f};goog.FEATURESET_YEAR=2012;goog.DEBUG=!0;goog.LOCALE="en";goog.getLocale=function(){return goog.LOCALE};goog.TRUSTED_SITE=!0;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;
goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');goog.constructNamespace_(a)};goog.constructNamespace_=function(a,f,k){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var m=a;(m=m.substring(0,m.lastIndexOf(".")))&&!goog.getObjectByName(m);)goog.implicitNamespaces_[m]=!0}goog.exportPath_(a,f,k)};goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/;
goog.getScriptNonce_=function(a){a=(a||goog.global).document;return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(a)?a:""};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(a){if("string"!==typeof a||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");
goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED){if(a in goog.loadedModules_)return goog.loadedModules_[a].exports;if(!goog.implicitNamespaces_[a])return a=goog.getObjectByName(a),null!=a?a:null}return null};goog.ModuleType={ES6:"es6",GOOG:"goog"};goog.moduleLoaderState_=null;
goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var a=goog.global.$jscomp;return a?"function"!=typeof a.getCurrentModulePath?!1:!!a.getCurrentModulePath():!1};
goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.declareModuleId=function(a){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(a in goog.loadedModules_)throw Error('Module with namespace "'+a+'" already exists.');}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=a;else{var f=goog.global.$jscomp;if(!f||"function"!=typeof f.getCurrentModulePath)throw Error('Module with namespace "'+
a+'" has been loaded incorrectly.');f=f.require(f.getCurrentModulePath());goog.loadedModules_[a]={exports:f,type:goog.ModuleType.ES6,moduleId:a}}};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(a){};COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&null!=goog.getObjectByName(a)},goog.implicitNamespaces_={"goog.module":!0});
goog.getObjectByName=function(a,f){a=a.split(".");f=f||goog.global;for(var k=0;k<a.length;k++)if(f=f[a[k]],null==f)return null;return f};goog.addDependency=function(a,f,k,m){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(a,f,k,m)};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};
goog.require=function(a){if(!COMPILED){goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(a);if(goog.isProvided_(a)){if(goog.isInModuleLoader_())return goog.module.getInternal_(a)}else if(goog.ENABLE_DEBUG_LOADER){var f=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(a)}finally{goog.moduleLoaderState_=f}}return null}};goog.requireType=function(a){return{}};goog.basePath="";goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.TRANSPILE="detect";goog.ASSUME_ES_MODULES_TRANSPILED=!1;goog.TRANSPILE_TO_LANGUAGE="";
goog.TRANSPILER="transpile.js";goog.TRUSTED_TYPES_POLICY_NAME="goog";goog.hasBadLetScoping=null;
goog.loadModule=function(a){var f=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var k={},m=k;if("function"===typeof a)m=a.call(void 0,m);else if("string"===typeof a)m=goog.loadModuleFromSource_.call(void 0,m,a);else throw Error("Invalid module definition");var l=goog.moduleLoaderState_.moduleName;if("string"===typeof l&&l)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(l,m,k!==m):goog.SEAL_MODULE_EXPORTS&&
Object.seal&&"object"==typeof m&&null!=m&&Object.seal(m),goog.loadedModules_[l]={exports:m,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+l+'"');}finally{goog.moduleLoaderState_=f}};goog.loadModuleFromSource_=function(a,f){eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(f));return a};goog.normalizePath_=function(a){a=a.split("/");for(var f=0;f<a.length;)"."==a[f]?a.splice(f,1):f&&".."==a[f]&&a[f-1]&&".."!=a[f-1]?a.splice(--f,2):f++;return a.join("/")};
goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var f=new goog.global.XMLHttpRequest;f.open("get",a,!1);f.send();return 0==f.status||200==f.status?f.responseText:null}catch(k){return null}};
goog.transpile_=function(a,f,k){var m=goog.global.$jscomp;m||(goog.global.$jscomp=m={});var l=m.transpile;if(!l){var x=goog.basePath+goog.TRANSPILER,G=goog.loadFileSync_(x);if(G){(function(){(0,eval)(G+"\n//# sourceURL="+x)}).call(goog.global);if(goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=
goog.global.$gwtExport.$jscomp.transpile;m=goog.global.$jscomp;l=m.transpile}}l||=m.transpile=function(N,S){goog.logToConsole_(S+" requires transpilation but no transpiler was found.");return N};return l(a,f,k)};goog.typeOf=function(a){var f=typeof a;return"object"!=f?f:a?Array.isArray(a)?"array":f:"null"};goog.isArrayLike=function(a){var f=goog.typeOf(a);return"array"==f||"object"==f&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};
goog.isObject=function(a){var f=typeof a;return"object"==f&&null!=a||"function"==f};goog.getUid=function(a){return Object.prototype.hasOwnProperty.call(a,goog.UID_PROPERTY_)&&a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(f){}};goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);
goog.uidCounter_=0;goog.cloneObject=function(a){var f=goog.typeOf(a);if("object"==f||"array"==f){if("function"===typeof a.clone)return a.clone();if("undefined"!==typeof Map&&a instanceof Map)return new Map(a);if("undefined"!==typeof Set&&a instanceof Set)return new Set(a);f="array"==f?[]:{};for(var k in a)f[k]=goog.cloneObject(a[k]);return f}return a};goog.bindNative_=function(a,f,k){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,f,k){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(l,m);return a.apply(f,l)}}return function(){return a.apply(f,arguments)}};goog.bind=function(a,f,k){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,f){var k=Array.prototype.slice.call(arguments,1);return function(){var m=k.slice();m.push.apply(m,arguments);return a.apply(this,m)}};goog.now=function(){return Date.now()};goog.globalEval=function(a){(0,eval)(a)};
goog.getCssName=function(a,f){if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var k=function(l){return goog.cssNameMapping_[l]||l},m=function(l){l=l.split("-");for(var x=[],G=0;G<l.length;G++)x.push(k(l[G]));return x.join("-")};m=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?k:m:function(l){return l};a=f?a+"-"+m(f):m(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(a):a};
goog.setCssNameMapping=function(a,f){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=f};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.GetMsgOptions=function(){};
goog.getMsg=function(a,f,k){k&&k.html&&(a=a.replace(/</g,"&lt;"));k&&k.unescapeHtmlEntities&&(a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&"));f&&(a=a.replace(/\{\$([^}]+)}/g,function(m,l){return null!=f&&l in f?f[l]:m}));return a};goog.getMsgWithFallback=function(a,f){return a};goog.exportSymbol=function(a,f,k){goog.exportPath_(a,f,!0,k)};goog.exportProperty=function(a,f,k){a[f]=k};
goog.inherits=function(a,f){function k(){}k.prototype=f.prototype;a.superClass_=f.prototype;a.prototype=new k;a.prototype.constructor=a;a.base=function(m,l,x){for(var G=Array(arguments.length-2),N=2;N<arguments.length;N++)G[N-2]=arguments[N];return f.prototype[l].apply(m,G)}};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");a.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);
goog.defineClass=function(a,f){var k=f.constructor,m=f.statics;k&&k!=Object.prototype.constructor||(k=function(){throw Error("cannot instantiate an interface (no constructor defined).");});k=goog.defineClass.createSealingConstructor_(k,a);a&&goog.inherits(k,a);delete f.constructor;delete f.statics;goog.defineClass.applyProperties_(k.prototype,f);null!=m&&(m instanceof Function?m(k):goog.defineClass.applyProperties_(k,m));return k};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;
goog.defineClass.createSealingConstructor_=function(a,f){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var k=a.apply(this,arguments)||this;k[goog.UID_PROPERTY_]=k[goog.UID_PROPERTY_];return k}:a};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_=function(a,f){for(var k in f)Object.prototype.hasOwnProperty.call(f,k)&&(a[k]=f[k]);for(var m=0;m<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;m++)k=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[m],Object.prototype.hasOwnProperty.call(f,k)&&(a[k]=f[k])};goog.identity_=function(a){return a};
goog.createTrustedTypesPolicy=function(a){var f=null,k=goog.global.trustedTypes;if(!k||!k.createPolicy)return f;try{f=k.createPolicy(a,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(m){goog.logToConsole_(m.message)}return f};
!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.isEdge_=function(){return!!(goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"").match(/Edge\/(\d+)(\.\d)*/i)},goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.isDocumentLoading_=function(){var a=goog.global.document;return a.attachEvent?"complete"!=a.readyState:"loading"==a.readyState},goog.findBasePath_=function(){if(void 0!=goog.global.CLOSURE_BASE_PATH&&"string"===typeof goog.global.CLOSURE_BASE_PATH)goog.basePath=
goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var a=goog.global.document,f=a.currentScript;a=f?[f]:a.getElementsByTagName("SCRIPT");for(f=a.length-1;0<=f;--f){var k=a[f].src,m=k.lastIndexOf("?");m=-1==m?k.length:m;if("base.js"==k.slice(m-7,m)){goog.basePath=k.slice(0,m-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null;this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(x,
G){l?m[x]=!0:G()?(k=x,m[x]=!1):l=m[x]=!0}function f(x){try{return!!eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(x))}catch(G){return!1}}var k="es3",m={es3:!1},l=!1;a("es5",function(){return f("[1,].length==1")});a("es6",function(){return goog.isEdge_()?!1:f('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')});
a("es7",function(){return f("2**3==8")});a("es8",function(){return f("async()=>1,1")});a("es9",function(){return f("({...rest}={}),1")});a("es_2019",function(){return f('let r;try{r="\u2029"}catch{};r')});a("es_2020",function(){return f("null?.x??1")});a("es_next",function(){return!1});return{target:k,map:m}},goog.Transpiler.prototype.needsTranspile=function(a,f){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var k=this.createRequiresTranspilation_();
this.requiresTranspilation_=k.map;this.transpilationTarget_=this.transpilationTarget_||k.target}if(a in this.requiresTranspilation_)return this.requiresTranspilation_[a]?!0:!goog.inHtmlDocument_()||"es6"!=f||"noModule"in goog.global.document.createElement("script")?!1:!0;throw Error("Unknown language mode: "+a);},goog.Transpiler.prototype.transpile=function(a,f){return goog.transpile_(a,f,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(a){return a.replace(/<\/(SCRIPT)/ig,
"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={};this.idToPath_={};this.written_={};this.loadingDeps_=[];this.depsToLoad_=[];this.paused_=!1;this.factory_=new goog.DependencyFactory(goog.transpiler_);this.deferredCallbacks_={};this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(a,f){function k(){m&&(goog.global.setTimeout(m,0),m=null)}var m=f;if(a.length){f=[];for(var l=0;l<a.length;l++){var x=this.getPathFromDeps_(a[l]);if(!x)throw Error("Unregonized namespace: "+
a[l]);f.push(this.dependencies_[x])}x=goog.require;var G=0;for(l=0;l<a.length;l++)x(a[l]),f[l].onLoad(function(){++G==a.length&&k()})}else k()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1));this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(a,f){(a=this.getPathFromDeps_(a))&&(f||this.areDepsLoaded_(this.dependencies_[a].requires))&&(f=this.deferredCallbacks_[a])&&
(delete this.deferredCallbacks_[a],f())},goog.DebugLoader_.prototype.setDependencyFactory=function(a){this.factory_=a},goog.DebugLoader_.prototype.load_=function(a){if(this.getPathFromDeps_(a)){var f=this,k=[],m=function(l){var x=f.getPathFromDeps_(l);if(!x)throw Error("Bad dependency path or symbol: "+l);if(!f.written_[x]){f.written_[x]=!0;l=f.dependencies_[x];for(x=0;x<l.requires.length;x++)goog.isProvided_(l.requires[x])||m(l.requires[x]);k.push(l)}};m(a);a=!!this.depsToLoad_.length;this.depsToLoad_=
this.depsToLoad_.concat(k);this.paused_||a||this.loadDeps_()}else goog.logToConsole_("goog.require could not find: "+a)},goog.DebugLoader_.prototype.loadDeps_=function(){for(var a=this,f=this.paused_;this.depsToLoad_.length&&!f;)(function(){var k=!1,m=a.depsToLoad_.shift(),l=!1;a.loading_(m);var x={pause:function(){if(k)throw Error("Cannot call pause after the call to load.");f=!0},resume:function(){k?a.resume_():f=!1},loaded:function(){if(l)throw Error("Double call to loaded.");l=!0;a.loaded_(m)},
pending:function(){for(var G=[],N=0;N<a.loadingDeps_.length;N++)G.push(a.loadingDeps_[N]);return G},setModuleState:function(G){goog.moduleLoaderState_={type:G,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(G,N,S){S&&(goog.loadedModules_[S]={exports:N,type:goog.ModuleType.ES6,moduleId:S||""})},registerGoogModuleExports:function(G,N){goog.loadedModules_[G]={exports:N,type:goog.ModuleType.GOOG,moduleId:G}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(G){if(k)throw Error("Cannot register with defer after the call to load.");
a.defer_(m,G)},areDepsLoaded:function(){return a.areDepsLoaded_(m.requires)}};try{m.load(x)}finally{k=!0}})();f&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(a){this.loadingDeps_.push(a)},goog.DebugLoader_.prototype.loaded_=function(a){for(var f=0;f<this.loadingDeps_.length;f++)if(this.loadingDeps_[f]==a){this.loadingDeps_.splice(f,
1);break}for(f=0;f<this.deferredQueue_.length;f++)if(this.deferredQueue_[f]==a.path){this.deferredQueue_.splice(f,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);a.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(a){for(var f=0;f<a.length;f++){var k=this.getPathFromDeps_(a[f]);if(!k||!(k in this.deferredCallbacks_||goog.isProvided_(a[f])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=
function(a){return a in this.idToPath_?this.idToPath_[a]:a in this.dependencies_?a:null},goog.DebugLoader_.prototype.defer_=function(a,f){this.deferredCallbacks_[a.path]=f;this.deferredQueue_.push(a.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(a,
f,k){},goog.LoadController.prototype.setModuleState=function(a){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(a){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(a,f,k,m,l){this.path=a;this.relativePath=f;this.provides=k;this.requires=m;this.loadFlags=l;this.loaded_=!1;this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var a=this.path,f=a.indexOf("://");0<=f&&(a=a.substring(f+3),f=
a.indexOf("/"),0<=f&&(a=a.substring(f+1)));return a},goog.Dependency.prototype.onLoad=function(a){this.loaded_?a():this.loadCallbacks_.push(a)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var a=this.loadCallbacks_;this.loadCallbacks_=[];for(var f=0;f<a.length;f++)a[f]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(a){var f=Math.random().toString(32);goog.Dependency.callbackMap_[f]=a;return f},goog.Dependency.unregisterCallback_=
function(a){delete goog.Dependency.callbackMap_[a]},goog.Dependency.callback_=function(a,f){if(a in goog.Dependency.callbackMap_){for(var k=goog.Dependency.callbackMap_[a],m=[],l=1;l<arguments.length;l++)m.push(arguments[l]);k.apply(void 0,m)}else throw Error("Callback key "+a+" does not exist (was base.js loaded more than once?).");},goog.Dependency.prototype.load=function(a){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?a.loaded():a.pause();else if(goog.inHtmlDocument_()){var f=
goog.global.document;if("complete"==f.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path)){a.loaded();return}throw Error('Cannot write "'+this.path+'" after document load');}var k=goog.getScriptNonce_();if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var m=function(N){N.readyState&&"complete"!=N.readyState?N.onload=m:(goog.Dependency.unregisterCallback_(l),a.loaded())},l=goog.Dependency.registerCallback_(m);k=k?' nonce="'+k+'"':"";var x=
'<script src="'+this.path+'"'+k+(goog.Dependency.defer_?" defer":"")+' id="script-'+l+'">\x3c/script>';x+="<script"+k+">";x=goog.Dependency.defer_?x+("document.getElementById('script-"+l+"').onload = function() {\n  goog.Dependency.callback_('"+l+"', this);\n};\n"):x+("goog.Dependency.callback_('"+l+"', document.getElementById('script-"+l+"'));");x+="\x3c/script>";f.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(x):x)}else{var G=f.createElement("script");G.defer=goog.Dependency.defer_;
G.async=!1;k&&(G.nonce=k);G.onload=function(){G.onload=null;a.loaded()};G.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path;f.head.appendChild(G)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),a.loaded()):a.pause()},goog.Es6ModuleDependency=function(a,f,k,m,l){goog.Dependency.call(this,
a,f,k,m,l)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(a){function f(W,K){var X="",P=goog.getScriptNonce_();P&&(X=' nonce="'+P+'"');W=K?'<script type="module" crossorigin'+X+">"+K+"\x3c/script>":'<script type="module" crossorigin src="'+W+'"'+X+">\x3c/script>";m.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(W):W)}function k(W,K){var X=m.createElement("script");X.defer=!0;X.async=!1;X.type="module";X.setAttribute("crossorigin",
!0);var P=goog.getScriptNonce_();P&&(X.nonce=P);K?X.text=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(K):K:X.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(W):W;m.head.appendChild(X)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?a.loaded():a.pause();else if(goog.inHtmlDocument_()){var m=goog.global.document,l=this;if(goog.isDocumentLoading_()){var x=f;goog.Dependency.defer_=!0}else x=k;var G=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(G);
a.setModuleState(goog.ModuleType.ES6)});x(void 0,'goog.Dependency.callback_("'+G+'")');x(this.path,void 0);var N=goog.Dependency.registerCallback_(function(W){goog.Dependency.unregisterCallback_(N);a.registerEs6ModuleExports(l.path,W,goog.moduleLoaderState_.moduleName)});x(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+N+'", m)');var S=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(S);a.clearModuleState();a.loaded()});x(void 0,'goog.Dependency.callback_("'+
S+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),a.pause()},goog.TransformedDependency=function(a,f,k,m,l){goog.Dependency.call(this,a,f,k,m,l);this.contents_=null;this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(a){function f(){l.contents_=goog.loadFileSync_(l.path);l.contents_&&(l.contents_=
l.transform(l.contents_),l.contents_&&(l.contents_+="\n//# sourceURL="+l.path))}function k(){l.lazyFetch_&&f();if(l.contents_){x&&a.setModuleState(goog.ModuleType.ES6);try{var W=l.contents_;l.contents_=null;goog.globalEval(goog.CLOSURE_EVAL_PREFILTER_.createScript(W));if(x)var K=goog.moduleLoaderState_.moduleName}finally{x&&a.clearModuleState()}x&&goog.global.$jscomp.require.ensure([l.getPathName()],function(){a.registerEs6ModuleExports(l.path,goog.global.$jscomp.require(l.getPathName()),K)});a.loaded()}}
function m(){var W=goog.global.document,K=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(K);k()}),X=goog.getScriptNonce_();X="<script"+(X?' nonce="'+X+'"':"")+">"+goog.protectScriptTag_('goog.Dependency.callback_("'+K+'");')+"\x3c/script>";W.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(X):X)}var l=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)f(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,a.loaded()):
a.pause();else{var x=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||f();var G=1<a.pending().length;if(goog.Dependency.defer_&&(G||goog.isDocumentLoading_()))a.defer(function(){k()});else{var N=goog.global.document;G=goog.inHtmlDocument_()&&("ActiveXObject"in goog.global||goog.isEdge_());if(x&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!G){goog.Dependency.defer_=!0;a.pause();var S=N.onreadystatechange;N.onreadystatechange=function(){"interactive"==N.readyState&&(N.onreadystatechange=
S,k(),a.resume());"function"===typeof S&&S.apply(void 0,arguments)}}else goog.inHtmlDocument_()&&goog.isDocumentLoading_()?m():k()}}},goog.TransformedDependency.prototype.transform=function(a){},goog.TranspiledDependency=function(a,f,k,m,l,x){goog.TransformedDependency.call(this,a,f,k,m,l);this.transpiler=x},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(a){return this.transpiler.transpile(a,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=
function(a,f,k,m,l){goog.TransformedDependency.call(this,a,f,k,m,l)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(a){return a},goog.GoogModuleDependency=function(a,f,k,m,l,x,G){goog.TransformedDependency.call(this,a,f,k,m,l);this.needsTranspile_=x;this.transpiler_=G},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(a){this.needsTranspile_&&
(a=this.transpiler_.transpile(a,this.getPathName()));return goog.LOAD_MODULE_USING_EVAL&&void 0!==goog.global.JSON?"goog.loadModule("+goog.global.JSON.stringify(a+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+a+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.prototype.addDependency=function(a,f,k,m){f=f||[];a=a.replace(/\\/g,"/");var l=goog.normalizePath_(goog.basePath+a);m&&"boolean"!==typeof m||(m=m?{module:goog.ModuleType.GOOG}:
{});k=this.factory_.createDependency(l,a,f,k,m,goog.transpiler_.needsTranspile(m.lang||"es3",m.module));this.dependencies_[l]=k;for(k=0;k<f.length;k++)this.idToPath_[f[k]]=l;this.idToPath_[a]=l},goog.DependencyFactory=function(a){this.transpiler=a},goog.DependencyFactory.prototype.createDependency=function(a,f,k,m,l,x){return l.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(a,f,k,m,l,x,this.transpiler):x?new goog.TranspiledDependency(a,f,k,m,l,this.transpiler):l.module==goog.ModuleType.ES6?
"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(a,f,k,m,l):new goog.Es6ModuleDependency(a,f,k,m,l):new goog.Dependency(a,f,k,m,l)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(a){goog.debugLoader_.setDependencyFactory(a)},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):
null,goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(a,f){goog.debugLoader_.bootstrap(a,f)});if(!COMPILED){var isChrome87=!1;try{isChrome87=eval(goog.global.trustedTypes.emptyScript)!==goog.global.trustedTypes.emptyScript}catch(a){}goog.CLOSURE_EVAL_PREFILTER_=goog.global.trustedTypes&&isChrome87&&goog.createTrustedTypesPolicy("goog#base#devonly#eval")||{createScript:goog.identity_}}var plt={wescheme:{}};plt.wescheme.SharedAs=function(a){this.entries=a};
plt.wescheme.SharedAs.fromDom=function(a){var f=[];jQuery(a).children("Entry").each(function(){var k=jQuery(this).children("publicId").text(),m=jQuery(this).children("title").text(),l=parseInt(jQuery(this).children("modified").text());f.push({publicId:k,title:m,modified:l})});return new plt.wescheme.SharedAs(f)};plt.wescheme.SharedAs.prototype.getEntries=function(){return this.entries};plt.wescheme.base64={};
(function(){plt.wescheme.base64.encode=function(a){var f=0,k=0,m=[];if(!a)return a;do{var l=a.charCodeAt(f++),x=a.charCodeAt(f++),G=a.charCodeAt(f++),N=l<<16|x<<8|G;l=N>>18&63;x=N>>12&63;G=N>>6&63;N&=63;m[k++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(x)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(G)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(N)}while(f<
a.length);f=m.join("");a=a.length%3;return(a?f.slice(0,a-3):f)+"===".slice(a||3)};plt.wescheme.base64.decode=function(a){var f=0,k=0,m=[];if(!a)return a;a+="";do{var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(f++)),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(f++)),G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(f++)),N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(f++)),
S=l<<18|x<<12|G<<6|N;l=S>>16&255;x=S>>8&255;S&=255;64==G?m[k++]=String.fromCharCode(l):64==N?m[k++]=String.fromCharCode(l,x):m[k++]=String.fromCharCode(l,x,S)}while(f<a.length);return m.join("")}})();plt.wescheme.Program={};
(function(){plt.wescheme.Program=function(a){this.json=a};plt.wescheme.Program.prototype.getId=function(){return this.json.id};plt.wescheme.Program.prototype.hasSharingUrls=function(){return 0<this.getSharedAsEntries().length};plt.wescheme.Program.prototype.getSharedAsEntries=function(){return new plt.wescheme.SharedAs(this.json.sharedAs)};plt.wescheme.Program.prototype.isPublished=function(){return this.json.published};plt.wescheme.Program.prototype.getTitle=function(){return this.json.title};plt.wescheme.Program.prototype.getOwner=
function(){return this.json.owner};plt.wescheme.Program.prototype.getPublicId=function(){return this.json.publicId};plt.wescheme.Program.prototype.getNotes=function(){return this.json.notes};plt.wescheme.Program.prototype.getSourceCode=function(){return this.json.source.src};plt.wescheme.Program.prototype.getPermissions=function(){return this.json.permissions};plt.wescheme.Program.prototype.getProvides=function(){return this.json.provides};plt.wescheme.Program.prototype.isSourcePublic=function(){return this.json.isSourcePublic};
plt.wescheme.Program.prototype.getObjectCode=function(){return this.json.object.obj};plt.wescheme.Program.prototype.isAndroidPackageBuilt=function(){return!1};plt.wescheme.Program.prototype.getAndroidPackageUrl=function(){return""};plt.wescheme.Program.prototype.getPublicEditingUrl=function(){return"http://www.wescheme.org/openEditor?publicId="+encodeURIComponent(this.getPublicId())}})();plt.wescheme.AjaxActions={};
(function(){plt.wescheme.AjaxActions=function(){};plt.wescheme.AjaxActions.prototype.loadProject=function(a,f,k,m){data=a?{pid:a}:{publicId:f};data.gensym=Math.random();jQuery.ajax({cache:!1,data,dataType:"json",type:"GET",url:"/loadProject",success:function(l){k(new plt.wescheme.Program(l))},error:function(l){m(l.statusText)},xhr:function(l){return new XMLHttpRequest(l)}})};plt.wescheme.AjaxActions.prototype.listProjects=function(a,f){var k={};k.gensym=Math.random();jQuery.ajax({cache:!1,data:k,
dataType:"xml",type:"GET",url:"/listProjects",success:function(m){m=jQuery(m);a(m)},error:function(m){f(m.statusText)},xhr:function(m){return new XMLHttpRequest(m)}})};plt.wescheme.AjaxActions.prototype.makeAClone=function(a,f,k,m){jQuery.ajax({cache:!1,data:null===f?{pid:a}:{pid:a,code:f},dataType:"text",type:"POST",url:"/cloneProject",success:function(l){l=parseInt(l);k(l)},error:function(l){m(l.statusText)},xhr:function(l){return new XMLHttpRequest(l)}})};plt.wescheme.AjaxActions.prototype.share=
function(a,f,k,m){jQuery.ajax({cache:!1,data:{pid:a,isPublic:f},dataType:"xml",type:"POST",url:"/shareProject",success:function(l){k(jQuery(l))},error:function(l){m(l.statusText)},xhr:function(l){return new XMLHttpRequest(l)}})};plt.wescheme.AjaxActions.prototype.deleteProject=function(a,f,k){jQuery.ajax({cache:!1,data:{pid:a},dataType:"xml",type:"POST",url:"/deleteProject",success:function(m){f(jQuery(m))},error:function(m){k(m.statusText)},xhr:function(m){return new XMLHttpRequest(m)}})};plt.wescheme.AjaxActions.prototype.save=
function(a,f,k){var m,l={},x=["title","code","notes"];a.pid&&(l.pid=a.pid);for(m=0;m<x.length;m++)Object.hasOwnProperty.call(a,x[m])&&(l[x[m]]=a[x[m]]);jQuery.ajax({cache:!1,data:l,dataType:"text",type:"POST",url:"/saveProject",success:function(G){G=parseInt(G);f(G)},error:function(G){k(G.statusText)},xhr:function(G){return new XMLHttpRequest(G)}})};plt.wescheme.AjaxActions.prototype.sendFeedback=function(a,f,k,m){jQuery.ajax({cache:!1,data:{author:a,type:f,feedbackText:k},datatype:"text",type:"POST",
url:"/addFeedback",success:function(l){m()},error:function(l){m()},xhr:function(l){return new XMLHttpRequest(l)}})}})();plt.wescheme.makeDynamicModuleLoader={};
(function(){plt.wescheme.makeDynamicModuleLoader=function(a){var f=new plt.wescheme.AjaxActions,k=function(m,l,x){var G=m.match(/wescheme\/(\w+)/)[1];f.loadProject(null,G,function(N){try{window.COLLECTIONS[m]={name:m,bytecode:(0,eval)("("+N.getObjectCode()+")"),provides:N.getProvides()}}catch(S){x();return}l()},x)};return function(m,l,x){window.COLLECTIONS=window.COLLECTIONS||{};m.match(/^wescheme\/(\w+)$/)?k(m,l,x):loadScript(a+"/"+m+"-min.js?__gensym="+encodeURIComponent(""+Math.random()),l,x)}}})();
plt.compiler={};plt.compiler.throwError={};plt.compiler.Program={};plt.compiler.comment={};plt.compiler.couple={};plt.compiler.defFunc={};plt.compiler.defVar={};plt.compiler.defVars={};plt.compiler.defStruct={};plt.compiler.beginExpr={};plt.compiler.lambdaExpr={};plt.compiler.localExpr={};plt.compiler.letrecExpr={};plt.compiler.letExpr={};plt.compiler.letStarExpr={};plt.compiler.condExpr={};plt.compiler.caseExpr={};plt.compiler.andExpr={};plt.compiler.orExpr={};plt.compiler.callExpr={};
plt.compiler.ifExpr={};plt.compiler.whenUnlessExpr={};plt.compiler.symbolExpr={};plt.compiler.literal={};plt.compiler.quotedExpr={};plt.compiler.unquotedExpr={};plt.compiler.quasiquotedExpr={};plt.compiler.unquoteSplice={};plt.compiler.requireExpr={};plt.compiler.provideStatement={};plt.compiler.unsupportedExpr={};plt.compiler.pinfo={};plt.compiler.getBasePinfo={};plt.compiler.isExpression={};plt.compiler.isDefinition={};plt.compiler.env={};plt.compiler.emptyEnv={};plt.compiler.localEnv={};
plt.compiler.globalEnv={};plt.compiler.moduleBinding={};plt.compiler.functionBinding={};plt.compiler.constantBinding={};plt.compiler.structBinding={};plt.compiler.unnamedEnv={};window.plt=window.plt||{};plt.compiler=plt.compiler||{};
(function(){function a(v,z,E){z.source=z.source||"<unknown>";v.args=v.args.map(function(A){if("string"===typeof A)return A;if(A instanceof aa)return'["span", [["class", "SchemeValue-Symbol"]], '+A.val+"]";if(void 0!==A.location)return{text:A.text,type:"ColoredPart",loc:A.location.toString(),toString:function(){return A.text}};if(void 0!==A.locations)return{text:A.text,type:"MultiPart",solid:A.solid,locs:A.locations.map(function(B){return B.toString()}),toString:function(){return A.text}}});v={type:"moby-failure",
"dom-message":["span",[["class","Error"]],["span",[["class",E||"Message"]]].concat(E?[["span",[["class","Error.reason"]],v.toString()],["span",[["class",(E||"message")+("Error-GenericReadError"===E?".locations":".otherLocations")]]]]:v.args.map(function(A){return A.toString()})),["br",[],""],["span",[["class","Error.location"]],["span",[["class","location-reference"],["style","display:none"]],["span",[["class","location-offset"]],(z.startChar+1).toString()],["span",[["class","location-line"]],z.startRow.toString()],
["span",[["class","location-column"]],z.startCol.toString()],["span",[["class","location-span"]],z.span.toString()],["span",[["class","location-id"]],z.source.toString()]]]],"structured-error":JSON.stringify({message:E?!1:v.args,location:z.toString()})};throw JSON.stringify(v);}function f(v){w.call(this);this.txt=v;this.toString=function(){return";"+this.txt}}function k(v,z,E,A){w.call(this);this.name=v;this.args=z;this.body=E;this.stx=A;this.toString=function(){return"(define ("+this.name.toString()+
" "+this.args.join(" ")+")\n    "+this.body.toString()+")"}}function m(v,z,E){w.call(this);this.name=v;this.expr=z;this.stx=E;this.toString=function(){return"(define "+this.name.toString()+" "+this.expr.toString()+")"}}function l(v,z,E){w.call(this);this.names=v;this.expr=z;this.stx=E;this.toString=function(){return"(define-values ("+this.names.join(" ")+") "+this.expr.toString()+")"}}function x(v,z,E){w.call(this);this.name=v;this.fields=z;this.stx=E;this.toString=function(){return"(define-struct "+
this.name.toString()+" ("+this.fields.toString()+"))"}}function G(v,z){w.call(this);this.exprs=v;this.stx=z;this.toString=function(){return"(begin "+this.exprs.join(" ")+")"}}function N(v,z,E){w.call(this);this.args=v;this.body=z;this.stx=E;this.toString=function(){return"(lambda ("+this.args.join(" ")+") "+this.body.toString()+")"}}function S(v,z,E){w.call(this);this.defs=v;this.body=z;this.stx=E;this.toString=function(){return"(local ("+this.defs.toString()+") "+this.body.toString()+")"}}function W(v,
z,E){w.call(this);this.expr=v;this.clauses=z;this.stx=E;this.toString=function(){return"(case "+this.expr.toString()+"\n    "+this.clauses.join("\n    ")+")"}}function K(v,z,E){w.call(this);this.func=v;this.args=z;this.stx=E;this.toString=function(){return"("+[this.func].concat(this.args).join(" ")+")"}}function X(v,z,E,A){w.call(this);this.predicate=v;this.consequence=z;this.alternative=E;this.stx=A;this.toString=function(){return"(if "+this.predicate.toString()+" "+this.consequence.toString()+" "+
this.alternative.toString()+")"}}function P(v,z,E){w.call(this);this.predicate=v;this.exprs=z;this.stx=E;this.toString=function(){return"("+this.stx[0]+" "+this.predicate.toString()+" "+this.exprs.toString()+")"}}function aa(v,z){w.call(this);this.val=v;this.stx=z}function la(v){w.call(this);this.val=v;this.toString=function(){if(!0===this.val)return"#t";if(!1===this.val)return"#f";if(this.val instanceof Char){var z=this.val.val;return"\b"===z?"#\\backspace":"\t"===z?"#\\tab":"\n"===z?"#\\newline":
" "===z?"#\\space":"\v"===z?"#\\vtab":this.val.toWrittenString()}return types.toWrittenString(this.val)}}function oa(v){w.call(this);this.val=v;this.toString=function(){function z(A){A=A.val;if("quasiquote"===A)A="`";else if("quote"===A)A="'";else if("unquote"===A)A=",";else{if("unquote-splicing"!==A)throw"impossible quote-like string";A=",@"}return A}function E(A){return A instanceof Array&&2===A.length&&A[0]instanceof aa&&("quasiquote"===A[0].val||"quote"===A[0].val||"unquote"===A[0].val||"unquote-splicing"===
A[0].val)?z(A[0]).concat(E(A[1])):A instanceof Array?A.reduce(function(B,t){return B.concat(E(t))},"(").concat(")"):A.toString()}return"'"+E(this.val)}}function qa(v){w.call(this);this.val=v;this.toString=function(){return","+this.val.toString()}}function pa(v){w.call(this);this.val=v;this.toString=function(){return this.val instanceof Array?"`("+this.val.toString()+")":"`"+this.val.toString()}}function ra(v){w.call(this);this.val=v;this.toString=function(){return",@"+this.val.toString()}}function Z(v,
z){w.call(this);this.spec=v;this.stx=z;this.toString=function(){return"(require "+this.spec.toString()+")"}}function ta(v,z){w.call(this);this.clauses=v;this.stx=z;this.toString=function(){return"(provide "+this.clauses.toString()+")"}}function ua(v,z,E){w.call(this);this.val=v;this.errorMsg=z;this.errorSpan=E;this.toString=function(){return this.val.toString()}}function va(v,z,E,A){this.name=v;this.moduleSource=z;this.permissions=E;this.loc=A;this.toString=function(){return this.name};return this}
function ma(v,z,E,A,B,t,p){this.name=v;this.moduleSource=z;this.minArity=E;this.isVarArity=A;this.permissions=B;this.isCps=t;this.loc=p;this.toString=function(){return this.name};return this}function fa(v,z,E,A,B,t,p,O,L){this.name=v;this.moduleSource=z;this.fields=E;this.constructor=A;this.predicate=B;this.accessors=t;this.mutators=p;this.permissions=O;this.loc=L;this.toString=function(){return this.name};return this}function ia(v){var z=this;this.bindings=v||ka();this.lookup=function(E){return this.bindings.containsKey(E)?
this.bindings.get(E):!1};this.peek=function(E){return 0==E?this:this instanceof na?"IMPOSSIBLE - peeked at an emptyEnv!":this.parent.peek(E-1)};this.contains=function(E){return!1!==this.lookup(E)};this.keys=this.bindings.keys;this.extend=function(E){this.bindings.put(E.name,E);return new plt.compiler.env(this.bindings)};this.extendFunction=function(E,A,B,t,p){return this.extend(new ma(E,A,B,t,[],!1,p))};this.extendConstant=function(E,A,B){return this.extend(new va(E,A,[],B))};this.lookup_context=
function(E){return E.context instanceof ia?E.context.contains(E)?E.context.lookup(E):!1:z.contains(E)?z.lookup(E):!1};this.extendEnv_moduleBinding=function(E){return E.bindings.reduceRight(function(A,B){return A.extend(B)},this)};this.toString=function(){return this.bindings.values().reduce(function(E,A){return E+"\n  |---"+A.name},"")}}function na(){ia.call(this);this.lookup=function(v,z){return new plt.compiler.unboundStackReference(v)}}function wa(v){ia.call(this);this.parent=v;this.lookup=function(z,
E){return this.parent.lookup(z,E+1)}}function ca(v,z,E){ia.call(this);this.name=v;this.boxed=z;this.parent=E;this.lookup=function(A,B){return A===this.name?new plt.compiler.localStackReference(A,this.boxed,B):this.parent.lookup(A,B+1)}}function xa(v,z,E){ia.call(this);this.names=v;this.boxed=z;this.parent=E;this.lookup=function(A,B){var t=this.names.indexOf(A);return-1<t?new plt.compiler.globalStackReference(A,B,t):this.parent.lookup(A,B+1)}}var J=function(v){var z=function(){};z.prototype=v;return new z},
w=function(){this.toString=function(){return this.val.toString()};this.location=null};f.prototype=J(w.prototype);k.prototype=J(w.prototype);m.prototype=J(w.prototype);l.prototype=J(w.prototype);x.prototype=J(w.prototype);G.prototype=J(w.prototype);N.prototype=J(w.prototype);S.prototype=J(w.prototype);W.prototype=J(w.prototype);K.prototype=J(w.prototype);X.prototype=J(w.prototype);P.prototype=J(w.prototype);aa.prototype=J(w.prototype);la.prototype=J(w.prototype);Vector.prototype.toString=Vector.prototype.toWrittenString=
function(){var v=this.elts.filter(function(E){return void 0!==E}),z=v[v.length-1];return"#("+this.elts.map(function(E){return void 0===E?z:E})+")"};oa.prototype=J(w.prototype);qa.prototype=J(w.prototype);pa.prototype=J(w.prototype);ra.prototype=J(w.prototype);Z.prototype=J(w.prototype);ta.prototype=J(w.prototype);ua.prototype=J(w.prototype);var ka=types.makeLowLevelEqHash;plt.compiler.keywords="cond else let case let* letrec quote quasiquote unquote unquote-splicing local begin if or and when unless lambda \u03bb define define-struct define-values".split(" ");
na.prototype=J(ia.prototype);wa.prototype=J(ia.prototype);ca.prototype=J(ia.prototype);xa.prototype=J(ia.prototype);plt.compiler.defaultModuleResolver=function(v){for(var z=0;z<plt.compiler.knownModules.length;z++)if(plt.compiler.knownModules[z].name===v)return plt.compiler.knownModules[z];return!1};plt.compiler.moduleGuess=function(v){return plt.compiler.knownModules.reduce(function(z,E){var A=E.name;if(0===A.length)A=v.length;else if(0===v.length)A=A.length;else{for(var B=[],t=0;t<=v.length;t++)B[t]=
[t];for(var p=0;p<=A.length;p++)B[0][p]=p;for(t=1;t<=v.length;t++)for(p=1;p<=A.length;p++)v.charAt(t-1)==A.charAt(p-1)?B[t][p]=B[t-1][p-1]:B[t][p]=Math.min(B[t-1][p-1]+1,Math.min(B[t][p-1]+1,B[t-1][p]+1));A=B[v.length][A.length]}return A<z.distance?{name:E.name,distance:A}:z},{name:v,distance:5})};plt.compiler.defaultModulePathResolver=function(v,z){z=v.toString().split("/");var E=z[0];z.slice(1).join();return-1<plt.compiler.knownCollections.indexOf(E)&&plt.compiler.defaultModuleResolver(v.toString())||
/^wescheme\/\w+$/.exec(v)};plt.compiler.throwError=a;plt.compiler.Program=w;plt.compiler.comment=f;plt.compiler.couple=function(v,z){this.first=v;this.second=z;this.toString=function(){return"("+this.first.toString()+" "+this.second.toString()+")"}};plt.compiler.defFunc=k;plt.compiler.defVar=m;plt.compiler.defVars=l;plt.compiler.defStruct=x;plt.compiler.beginExpr=G;plt.compiler.lambdaExpr=N;plt.compiler.localExpr=S;plt.compiler.letrecExpr=function(v,z,E){this.bindings=v;this.body=z;this.stx=E;this.toString=
function(){return"(letrec ("+this.bindings.toString()+") ("+this.body.toString()+"))"}};plt.compiler.letExpr=function(v,z,E){this.bindings=v;this.body=z;this.stx=E;this.toString=function(){return"(let ("+this.bindings.toString()+") ("+this.body.toString()+"))"}};plt.compiler.letStarExpr=function(v,z,E){this.bindings=v;this.body=z;this.stx=E;this.toString=function(){return"(let* ("+this.bindings.toString()+") ("+this.body.toString()+"))"}};plt.compiler.condExpr=function(v,z){this.clauses=v;this.stx=
z;this.toString=function(){return"(cond\n    "+this.clauses.join("\n    ")+")"}};plt.compiler.caseExpr=W;plt.compiler.andExpr=function(v,z){this.exprs=v;this.stx=z;this.toString=function(){return"(and "+this.exprs.join(" ")+")"}};plt.compiler.orExpr=function(v,z){this.exprs=v;this.stx=z;this.toString=function(){return"(or "+this.exprs.toString()+")"}};plt.compiler.callExpr=K;plt.compiler.ifExpr=X;plt.compiler.whenUnlessExpr=P;plt.compiler.symbolExpr=aa;plt.compiler.literal=la;plt.compiler.quotedExpr=
oa;plt.compiler.unquotedExpr=qa;plt.compiler.quasiquotedExpr=pa;plt.compiler.unquoteSplice=ra;plt.compiler.requireExpr=Z;plt.compiler.provideStatement=ta;plt.compiler.unsupportedExpr=ua;plt.compiler.pinfo=function(v,z,E,A,B,t,p,O,L,e,d,c,b,n){this.env=v||new na;this.modules=z||[];this.usedBindingsHash=E||ka();this.freeVariables=A||[];this.gensymCounter=B||0;this.providedNames=t||ka();this.definedNames=p||ka();this.sharedExpressions=O||ka();this.withLocationEmits=L||!0;this.allowRedefinition=e||!1;
this.moduleResolver=d||plt.compiler.defaultModuleResolver;this.modulePathResolver=c||plt.compiler.defaultModulePathResolver;this.currentModulePath=b||"";this.declaredPermissions=n||[];this.isRedefinition=function(h){return this.env.lookup(h)};this.usedBindings=this.usedBindingsHash.values;this.accumulateDeclaredPermission=function(h,r){this.declaredPermissions=[[h,r]].concat(this.declaredPermissions);return this};this.accumulateSharedExpression=function(h,r){r=makeLabeledTranslation(this.gensymCounter,
r);this.sharedExpressions.put(r,h);return this};this.accumulateDefinedBinding=function(h,r){if(-1<plt.compiler.keywords.indexOf(h.name))a(new types.Message([new types.ColoredPart(h.name,h.loc),": this is a reserved keyword and cannot be used as a variable or function name"]),h.loc);else if(!this.allowRedefinition&&this.isRedefinition(h.name))r=this.env.lookup(h.name),r.loc?a(new types.Message([new types.ColoredPart(h.name,h.loc),": this name has a ",new types.ColoredPart("previous definition",r.loc),
" and cannot be re-defined"]),h.loc):a(new types.Message([new types.ColoredPart(h.name,h.loc),": this name has a ","previous definition"," and cannot be re-defined"]),h.loc);else return this.env.extend(h),this.definedNames.put(h.name,h),this};this.accumulateDefinedBindings=function(h,r){var H=this;h.forEach(function(C){H.accumulateDefinedBinding(C,r)});return this};this.accumulateModuleBindings=function(h){var r=this;h.forEach(function(H){r.env.extend(H)});return this};this.accumulateModule=function(h){this.modules=
[h].concat(this.modules);return this};this.accumulateBindingUse=function(h){var r=this.usedBindingsHash.get(h.name);r&&r.moduleSource||this.usedBindingsHash.put(h.name,h);return this};this.accumulateFreeVariableUse=function(h){this.freeVariables=-1<this.freeVariables.indexOf(h)?this.freeVariables:[h].concat(this.freeVariables);return this};this.gensym=function(h){return[this,new aa(h+this.gensymCounter++)]};this.permissions=function(){return this.usedBindings().reduce(function(h,r){return(r instanceof
ma||r instanceof va)&&0<r.permissions.length?h.concat(r.permissions):h},[]).filter(function(h,r,H){return H.indexOf(h)===r})};this.getExposedBindings=function(){function h(C){function F(I){return H.definedNames.get(I)}H.definedNames.containsKey(C.symbl)||a(new types.Message(["provided-name-not-defined: ",C.symbl]));var R=r(R,H.definedNames.get(C.symbl));return C instanceof plt.compiler.provideBindingStructId?[F(R.constructor),F(R.predicate)].concat(R.accessors.map(F),R.mutators.map(F)):[R]}function r(C,
F){if(C instanceof plt.compiler.provideBindingStructId&&!(F instanceof fa))a(new types.Message(["provided-structure-not-structure: ",F.symbl]));else return F}var H=this;bindings=bindings.reduce(function(C,F){return C.concat(h(F))},[]);return bindings.map(function(C){var F=H.declaredPermissions.filter(function(R){return R[0]===C.name});C.permissions=F.map(function(R){return R[1]});return C})};this.toString=function(){var h="pinfo-------------\n**env****: "+this.env.toString();h+="\n**modules**: "+
this.modules.join(",");h+="\n**used bindings**: "+this.usedBindings();h+="\n**free variables**: "+this.freeVariables.join(",");h+="\n**gensym counter**: "+this.gensymCounter;h+="\n**provided names**: "+this.providedNames.values();h+="\n**defined names**: "+this.definedNames.values();return h+("\n**permissions**: "+this.permissions())}};plt.compiler.getBasePinfo=function(v){var z="null empty true false eof pi e js-undefined js-null".split(" ").reduce(function(A,B){return A.extendConstant(B.toString(),
'"moby/toplevel"',!1)},new na),E=new plt.compiler.pinfo;z=plt.compiler.topLevelModules.reduceRight(function(A,B){return A.extendEnv_moduleBinding(B)},z);"moby"===v?E.env=z.extendEnv_moduleBinding(mobyModuleBinding):"base"===v&&(E.env=z);return E};plt.compiler.isExpression=function(v){return!(v instanceof m||v instanceof l||v instanceof x||v instanceof k||v instanceof ta||v instanceof ua||v instanceof Z)};plt.compiler.isDefinition=function(v){return v instanceof m||v instanceof l||v instanceof x||
v instanceof k};plt.compiler.env=ia;plt.compiler.emptyEnv=na;plt.compiler.localEnv=ca;plt.compiler.globalEnv=xa;plt.compiler.moduleBinding=function(v,z){this.name=v;this.bindings=z};plt.compiler.functionBinding=ma;plt.compiler.constantBinding=va;plt.compiler.structBinding=fa;plt.compiler.unnamedEnv=wa})();plt.compiler.lex={};plt.compiler.sexpToString={};window.plt=window.plt||{};plt.compiler=plt.compiler||{};
(function(){function a(t){return"("===t||")"===t||"["===t||"]"===t||"{"===t||"}"===t}function f(t,p){return"("===t&&")"===p||"["===t&&"]"===p||"{"===t&&"}"===p}function k(t){return"("===t?")":"["===t?"]":"{"===t?"}":")"===t?"(":"]"===t?"[":"}"===t?"{":Z(new types.Message(["otherDelim: Unknown delimiter: ",t]))}function m(t,p){var O;if(p<t.length)for(O=t.charAt(p);/\s/.test(O)&&p<t.length;)"\n"===O?(J++,w=0):w++,O=t.charAt(++p);return p}function l(t){return t instanceof Array?"("+t.map(l).toString()+
")":t.toString()}function x(t,p){ka=w;v=J;var O=p;p=m(t,p);var L=t.charAt(p);p>=t.length&&(A=p,Z(new types.Message([z,":",v.toString(),":",(ka-1).toString(),": read: (found end-of-file)"]),new B(ka-1,v,p-2,2),"Error-GenericReadError"));return ua.test(L)?Z(new types.Message(["read: expected an open '",k(L),"' to open ",new types.ColoredPart(" "+L+" ",new B(w,v,O,1))]),new B(w,v,O,1)):ta.test(L)?G(t,p):'"'===L?N(t,p):"#"===L?S(t,p):";"===L?P(t,p):ma.test(L)?aa(t,p):la(t,p)}function G(t,p){function O(I,
Q,U){I=x(I,Q);Q=I.location.end().startChar+1;if(I instanceof pa&&"."==I.val){if(C){var ha=new types.Message(["A syntax list may have only 2 `.'s"]);Z(ha,U[H].location)}C=H?U.length:!1;H=H||U.length}I instanceof oa||(I.parent=U,U.push(I));return Q}function L(I,Q,U){if(0===Q){var ha=new types.Message(["A `.' cannot be the first element in a syntax list"]);Z(ha,I[Q].location)}if(Q===I.length-1||U===I.length-1)ha=new types.Message(["A `.' cannot be the last element in a syntax list"]),Z(ha,I[U||Q].location);
if(U)if(2!==U-Q)ha=new types.Message(["Two `.'s may only surround one syntax item"]),Z(ha,I[U].location);else return I.slice(Q+1,Q+2).concat(I.slice(0,Q),I.slice(U+1));I[Q+1]instanceof Array||(ha=new types.Message(["A `.' must be followed by a syntax list, but found ",new types.ColoredPart("something else",I[Q+1].location)]),Z(ha,I[Q+1].location));if(I.length>Q+2)ha=new types.Message(["A `.' followed by a syntax list must be followed by a closing delimeter, but found ",new types.ColoredPart("something else",
I[Q+2].location)]),Z(ha,I[Q+1].location);else return I.slice(0,Q).concat(I[Q+1],I.slice(Q+2))}function e(I){if(/expected a .+ to (close|open)/.exec(I)||/unexpected/.exec(I)||/syntax list/.exec(I)||/bad syntax/.exec(I)||/bad character constant/.exec(I))throw I;var Q=JSON.parse(JSON.parse(I)["structured-error"]).location;h=new B(Number(Q.column),Number(Q.line),Number(Q.offset)-1,Number(Q.span));p=A;n=I;return p}var d=w,c=J,b=p,n=!1,h=new B(d,c,b,1),r=t.charAt(p++),H=!1,C=!1;w++;var F=[];xa.push(r);
for(p=m(t,p);p<t.length&&!ua.test(t.charAt(p));){"\n"===t.charAt(p)&&(J++,w=0);try{p=O(t,p,F)}catch(I){p=e(I)}p=m(t,p)}if(p>=t.length){var R=new types.Message(["read: expected a closing '",k(r),"' to close ",new types.ColoredPart(" "+r.toString()+" ",new B(d,c,b,1))]);Z(R,h)}f(r,t.charAt(p))||(R=new types.Message(["read: expected a closing '",k(r),"' to close ",new types.ColoredPart(" "+r.toString()+" ",new B(d,c,b,1))," but found a ",new types.ColoredPart(" "+t.charAt(p).toString()+" ",new B(w,J,
p,1))]),Z(R,new B(w,J,p,1)));w++;p++;if(n)throw A=p,n;if(H||C)F=L(F,H,C);F.location=new B(d,c,b,p-b);return F}function N(t,p){var O=w,L=J,e=p,d=/^"[^"]*(\\"[^"]*)*[^\\]"|""/.test(t.slice(p)),c=/^"[^"]*(\\"[^"]*)*/.exec(t.slice(e))[0];p++;w++;for(var b,n="";p<t.length&&'"'!==t.charAt(p);){b=t.charAt(p++);"\n"===b?(J++,w=0):w++;if("\\"===b){w++;b=t.charAt(p++);if(p>=t.length)break;switch(!0){case /a/.test(b):b="\u0007";break;case /b/.test(b):b="\b";break;case /t/.test(b):b="\t";break;case /n/.test(b):b=
"\n";break;case /v/.test(b):b="\v";break;case /f/.test(b):b="\f";break;case /r/.test(b):b="\r";break;case /e/.test(b):b="'";break;case /\n/.test(b):b="";break;case /["'\\]/.test(b):break;case /[xuU]/.test(b):var h="x"===b?fa:"u"===b?ia:wa;h.test(t.slice(p))||(A=e+c.length+1,Z(new types.Message([z,":",L.toString(),":",O.toString(),": read: no hex digit following \\"+b+" in string"]),new B(O,L,e,p-e+1),"Error-GenericReadError"));h=h.exec(t.slice(p))[1];b=String.fromCharCode(parseInt(h,16));p+=h.length;
w+=h.length;break;case ca.test(t.slice(p-1)):h=ca.exec(t.slice(p-1))[1];b=String.fromCharCode(parseInt(h,8));p+=h.length-1;w+=h.length-1;break;default:A=e+c.length+1,Z(new types.Message([z,":",L.toString(),":",O.toString(),": read: unknown escape sequence \\"+b+" in string"]),new B(O,L,e,p-e),"Error-GenericReadError")}}n+=b}d||(A=e+c.length,Z(new types.Message([z,":",L.toString(),":",O.toString(),": read: expected a closing '\"'"]),new B(O,L,e,1),"Error-GenericReadError"));t=new qa(new types.string(n));
p++;w++;t.location=new B(O,L,e,p-e);return t}function S(t,p){function O(H,C){H=new types.Message([z,":",J.toString(),":",(w-1).toString(),H]);Z(H,new B(L,e,d,C.length+1),"Error-GenericReadError")}var L=w,e=J,d=p;p++;w++;if(p<t.length){var c=t.charAt(p).toLowerCase(),b=RegExp('^(((fl|fx|s|hash|hasheq)[[({])|((rx|px)#{0,1}"))',"g").exec(t.slice(p));c=/^(!(?!\/)|reader|lang[\s]{0,1})/.exec(t.slice(p));var n=RegExp("^(c|C)(i|I|s|S)").exec(t.slice(p)),h=RegExp("^([0-9]*)[[({]","g").exec(t.slice(p));if(b&&
0<b[0].length){t=x(t,p+b[0].length-1);p=b[0].length;var r=b[0].replace(/[\(\[\{"|#"]/g,"");switch(r){case "fl":r="flvectors";break;case "fx":r="fxvectors";break;case "s":r="structs";break;case "hash":case "hasheq":r="hashtables";break;case "px":case "rx":r="regular expressions";break;default:throw"IMPOSSIBLE: unsupportedMatch captured something it shouldn't: "+r;}h=new types.Message([z,":",J.toString(),":","0",": read-syntax: literal "+r+" not allowed"]);r=new ra(t,h,p);r.location=new B(L,e,d,b[0].length+
t.location.span);return r}if(c&&0<c[0].length)O(": read: #"+c[0].trim()+" not enabled in the current context",c[0]);else{if(n&&0<n[0].length)return E="cs"===n[0].toLowerCase(),w+=2,x(t,p+2);if(h&&0<h[0].length)return r=h[1]?parseInt(h[1]):"",b=r.toString().length,p+=b,w+=b,b=G(t,p),r=""===r?b.length:parseInt(h[1]),b.length>r&&(t=new types.Message(["read: vector length "+r+" is too small, ",b.length+" value"+(1<b.length?"s":"")," provided"]),Z(t,new B(L,e,d,h[0].length))),p+=b.location.span,r=new qa(new Vector(r,
b)),r.location=new B(L,e,d,p-d),r;b=RegExp("^(hasheq|hash|fl|fx|\\d+|true|false|[tfeibdox]|\\<\\<|[\\\\\\\"\\%\\:\\&\\|\\;\\!\\`\\,\\']|)","i").exec(t.slice(p))[0];h=t.charAt(p+b.length);c=b.charAt(0).toLowerCase();switch(c){case "\\":r=W(t,p-1);p+=r.location.span-1;break;case '"':O(": byte strings are not supported in WeScheme",'#"');case "%":r=la(t,p);r.val="#"+r.val;p+=r.location.span;break;case ":":r=la(t,p-1);h=new types.Message([z,":",J.toString(),":","0",": read-syntax: Keyword internment is not supported in WeScheme"]);
r=new ra(r.val,h,r.location.span);p+=r.val.length-1;break;case "&":w++;t=x(t,p+1);b=new pa("box");r=[b,t];p+=t.location.span+1;b.location=new B(L,e,d,p-d);break;case "|":p--;r=K(t,p);p+=r.location.span+1;break;case ";":r=X(t,p+1);p+=r.location.span+1;break;case "!":r=P(t,p-1);p+=r.location.span;break;case "`":case ",":case "'":r=aa(t,p);r.location.startChar--;r.location.span++;A=p+r.location.span;t=new types.Message([z,":",e.toString(),":",(w-1).toString()," read: WeScheme does not support the '#"+
c+"' notation for ",","===c?"unsyntax":"'"===c?"syntax":"quasisyntax"]);Z(t,r.location);break;case "<<":r=N(t,p-1);p+=r.location.span;break;case "e":case "i":case "b":case "o":case "d":case "x":w--;r=la(t,p-1);p+=r.location.span-1;break;case "true":case "false":case "t":case "f":if(!va.exec(h)){r=new qa("t"===c||"true"===b);p+=b.length;w+=b.length;break}default:A=p,t=new types.Message([z,":",J.toString(),":",(w-1).toString(),": read: bad syntax `#",b+h,"'"]),Z(t,new B(L,e,d,(b+h).length+1),"Error-GenericReadError")}}}else A=
p,Z(new types.Message([z,":",J.toString(),":",(w-1).toString(),": read: bad syntax `#'"]),new B(L,e,d,p-d),"Error-GenericReadError");r.location=new B(L,e,d,p-d);return r}function W(t,p){var O=w,L=J,e=p;p+=2;w++;for(var d="",c=!0,b;p<t.length&&"#\\"!==t.slice(p,p+2)&&(c||!/\s/.test(t.charAt(p))&&!a(t.charAt(p)));)c=!1,w++,d+=t.charAt(p++);t=RegExp("(backspace|tab|newline|space|vtab)[^a-zA-Z]*","i");c=t.exec(d);t.test(d)?(d="backspace"===d?"\b":"tab"===d?"\t":"newline"===d?"\n":"space"===d?" ":"vtab"===
d?"\v":"Impossible: unknown special char was matched by special char!",p=e+2+c[1].length):/^[0-9].*/.test(d)&&ca.test(d)&&ca.exec(d)[0]===d&&256>parseInt(ca.exec(d)[0],8)&&31<parseInt(ca.exec(d)[0],8)?(c=/[0-7]+/.exec(d)[0],d=String.fromCharCode(parseInt(c,8)),p=e+2+c.length):/[uU]/.test(d)&&(b="u"===d.charAt(0)?ia:na)&&b.test(d.slice(1))?(c=b.exec(d.slice(1))[0],w+=c.length-d.length+1,d=String.fromCharCode(parseInt(c,16)),p=e+3+c.length):1===d.length||/[^\u00C0-\u1FFF\u2C00-\uD7FF\w]$/.test(d.charAt(1))?
(d=d.charAt(0),p=e+3):Z(new types.Message([z,":",L.toString(),":",(O-1).toString(),": read: bad character constant: #\\",d]),new B(O-1,L,e,p-e),"Error-GenericReadError");d=new qa(new types["char"](d));d.location=new B(O,L,e,p-e);return d}function K(t,p){var O=w,L=J,e=p;p+=2;w+=2;for(var d="";p+1<t.length&&("|"!==t.charAt(p)||"#"!==t.charAt(p+1));)"\n"===t.charAt(p)&&(J++,w=0),d+=t.charAt(p),p++,w++;p+1>=t.length&&Z(new types.Message(["read: Unexpected EOF when reading a multiline comment"]),new B(O,
L,e,p-e));p++;w++;t=new oa(d);t.location=new B(O,L,e,p-e);return t}function X(t,p){for(var O=w++,L=J,e=p,d;(p=m(t,p))&&p+1<t.length&&(d=x(t,p))&&d instanceof oa;)p=d.location.endChar;p+1>=t.length&&(A=p,Z(new types.Message([z,":",L.toString(),":",(O-1).toString(),": read: expected a commented-out element for `#;' (found end-of-file)"]),new B(O-1,L,p-2,2),"Error-GenericReadError"));t=new oa("("+d.toString()+")");p=d.location.endChar;t.location=new B(O,L,e,p-e);return t}function P(t,p){var O=w,L=J,
e=p;p++;w++;for(var d="";p<t.length&&"\n"!==t.charAt(p);)d+=t.charAt(p),w++,p++;p>t.length&&(A=p,Z(new types.Message(["read: Unexpected EOF when reading a line comment"]),new B(O,L,e,p-e)));t=new oa(d);t.location=new B(O,L,e,p+1-e);J++;w=0;return t}function aa(t,p){function O(h){A=h+1;Z(new types.Message([z,":",e.toString(),":",L.toString(),": read: expected an element for"+("'"==c?" quoting ":"`"==c?" quasiquoting ":","==c?" unquoting ":",@"==c?" unquoting ":""),c," (found end-of-file)"]),new B(L,
e,d,c.length),"Error-GenericReadError")}var L=w,e=J,d=p,c=t.charAt(p),b="'"==c?new pa("quote"):"`"==c?new pa("quasiquote"):"";p+1>=t.length&&O(p);p++;w++;","==c&&("@"==t.charAt(p)?(p++,w++,c+="@",b=new pa("unquote-splicing")):b=new pa("unquote"));for(b.location=new B(w-1,e,d,p-d);!n||n instanceof oa;){p=m(t,p);try{var n=x(t,p)}catch(h){/read: \(found end-of-file\)/.test(h)&&O(p);if(n=/expected a .* to open ","(.)"/.exec(h))A=p+1,Z(new types.Message([z,":",J.toString(),":",w.toString(),": read: unexpected `"+
n[1]+"'"]),new B(w,J,p,1),"Error-GenericReadError");throw h;}p=n.location.end().startChar+1}p=[b,n];n=n.location.end().startChar+1-d;p.location=new B(L,e,d,n);return p}function la(t,p){var O=w,L=J,e=p,d=RegExp("(\\|(.|\\n)*\\||\\\\(.|\\n)|[^\\(\\)\\{\\}\\[\\]\\,\\'\\`\\s\\\"\\;])+","mg").exec(t.slice(p))[0],c=/\.*\\+$/.exec(d);c&&0<c[0].length%2&&(A=p=t.length,Z(new types.Message([z,":",J.toString(),":",O.toString(),": read: EOF following `\\' in symbol"]),new B(O,L,e,p-e),"Error-GenericReadError"));
p+=d.length;w+=d.length;c="";for(var b=0;b<d.length;b++)"\\"==d.charAt(b)&&b++,c+=d.charAt(b);c=c.split("|");if(0===c.length%2){A=t.length;var n=d.slice(0,d.length-(c[c.length-1].length+1)),h=e+n.length;w=O;for(b=0;b<n.length;b++)"\n"===t.charAt(p)?(J++,w=0):w++;Z(new types.Message([z,":",J.toString(),":",w.toString(),": read: unbalanced `|'"]),new B(w,J,h,t.length-h),"Error-GenericReadError")}t=c.reduce(function(H,C,F){return H+(F%2||E?C:C.toLowerCase())},"");"\n"===t&&(J++,w=0);b=RegExp("^$|[\\(\\)\\{\\}\\[\\]\\,\\'\\`\\s\\\"\\\\]",
"g");t=RegExp("^.*\\\\[\\d]*.*|\\|[\\d]*\\|").test(d)||b.test(t)?"|"+t+"|":t;d=new pa(t);if(1===c.length&&!/^[a-zA-Z\-\?]+$/.test(t))try{var r=jsnums.fromString(t,!0);if(r||0===r)r instanceof Object&&(r.stx=t,r.location=new B(O,L,e,p-e)),d=new qa(r)}catch(H){A=p,r=new types.Message([z,":",L.toString(),":",O.toString(),": read: "+H.message]),Z(r,new B(O,L,e,p-e),"Error-GenericReadError")}d.stx=t;d.location=new B(O,L,e,p-e);return d}var oa=plt.compiler.comment,qa=plt.compiler.literal,pa=plt.compiler.symbolExpr,
ra=plt.compiler.unsupportedExpr,Z=plt.compiler.throwError,ta=/[(\u005B\u007B]/,ua=/[)\u005D\u007D]/,va=/^[^(\u005B\u007B)\u005D\u007D\s]+/,ma=/['`,]/,fa=RegExp("^([0-9a-f]{1,2})","i"),ia=RegExp("^([0-9a-f]{1,4})","i"),na=RegExp("^([0-9a-f]{1,6})","i"),wa=RegExp("^([0-9a-f]{1,8})","i"),ca=RegExp("^([0-7]{1,3})","i"),xa,J,w,ka,v,z,E,A,B=function(t,p,O,L,e){this.startCol=t;this.startRow=p;this.startChar=O;this.span=L;this.source=e||z;this.endCol=w;this.endRow=J;this.endChar=O+L;this.start=function(){return new B("",
"",this.startChar,1)};this.end=function(){return new B("","",this.startChar+this.span-1,1)};this.toString=function(){return"Loc("+this.startCol+", "+this.startRow+", "+(this.startChar+1)+","+this.span+")"};this.toVector=function(){return new types.vector(['"'+this.source+'"',this.startChar+1,this.startRow,this.startCol,this.span])};this.toString=function(){return{line:this.startRow.toString(),id:this.source,span:this.span.toString(),offset:(this.startChar+1).toString(),column:this.startCol.toString()}}};
Array.prototype.toString=function(){return this.join(" ")};plt.compiler.lex=function(t,p,O){var L=(new Date).getTime();try{var e=0;ka=w=0;v=J=1;E=!0;z=p||"<definitions>";p=[];xa=[];for(e=m(t,0);e<t.length;){var d=x(t,e);d instanceof oa||p.push(d);e=m(t,d.location.startChar+d.location.span)}p.location=new B(ka,v,0,e,z)}catch(c){throw console.log("LEXING ERROR"),c;}t=(new Date).getTime();O&&(console.log("Lexed in "+Math.floor(t-L)+"ms"),console.log(p),console.log(l(p)));return p};plt.compiler.sexpToString=
l})();plt.compiler.parse={};window.plt=window.plt||{};plt.compiler=plt.compiler||{};
(function(){function a(g){return g instanceof w}function f(g){return g instanceof Array&&1<=g.length}function k(g,y){g=g instanceof w?g.val:g;y=y instanceof w?y.val:y;return g===y}function m(g){return g.map(function(y){return K(y)?X(y):K(y)||na(y)||ca(y)?na(y)?wa(y):ca(y)?xa(y):D(new types.Message(["Not a Definition, Expression, Library Require, or Provide"]),y.location):P(y)})}function l(g){return 0===g.length?[]:f(g)?m(g):D(new types.Message(["The sexp is not a list of definitions or expressions: "+
g]),g.location)}function x(g){return f(g)&&a(g[0])&&k("define-struct",g[0])}function G(g){return f(g)&&a(g[0])&&k("define",g[0])}function N(g){return f(g)&&a(g[0])&&k("define-val",g[0])}function S(g){return f(g)&&a(g[0])&&k("define-fun",g[0])}function W(g){return f(g)&&a(g[0])&&k("define-values",g[0])}function K(g){return x(g)||G(g)||W(g)||N(g)||S(g)}function X(g){function y(u){2>u.length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected the structure name after define-struct, but nothing's there"]),
u.location);u[1]instanceof w||D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected the structure name after define-struct, but found ",new types.ColoredPart("something else",u[1].location)]),u.location);3>u.length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected at least one field name (in parentheses) after the ",new types.ColoredPart("structure name",u[1].location),", but nothing's there"]),u.location);u[2]instanceof Array||D(new types.Message([new types.ColoredPart(u[0].val,
u[0].location),": expected at least one field name (in parentheses) after the ",new types.ColoredPart("structure name",u[1].location),", but found ",new types.ColoredPart("something else",u[2].location)]),u.location);u[2].forEach(function(sa){sa instanceof w||D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected a field name, but found ",new types.ColoredPart("something else",sa.location)]),u.location)});if(3<u.length){var T=u.slice(3).map(function(sa){return sa.location}),
q=1===u[2].length?"field name":"field names",V=T.length+" extra "+(1===T.length?"part":"parts");D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected nothing after the ",new types.ColoredPart(q,u[2].location),", but found ",new types.MultiPart(V,T,!1)]),u.location)}return new I(fa(u[1]),u[2].map(fa),u)}function M(u){2>u.length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expects a list of variables and a body, but found neither"]),u.location);3>u.length&&
D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expects a list of variables and a body, but found only ",new types.ColoredPart("one part",u[1].location)]),u.location);u[1]instanceof Array||D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expects a list of variables and a body, but found ",new types.ColoredPart("something else",u[1].location)]),u.location);if(3<u.length){var T=u.slice(3).map(function(V){return V.location}),q=T.length+" extra "+(1===T.length?
"part":"parts");T=new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expects a list of variables and a body, but found ",new types.MultiPart(q,T,!1)]);D(T,u.location)}return new R(u[1].map(fa),P(u[2]),u)}function da(u){if(3!==u.length){var T=u.slice(1).map(function(V){return V.location}),q=4>u.length?" fewer than two":new types.MultiPart("more than two parts",T,!1);D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected exactly two parts for the definition: a name (or a function name and its variables) and an expression, but found",
q]),u.location)}3<u.length&&(T=u.slice(1).map(function(V){return V.location}),q=T.length+" parts",D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected exactly two parts, but found",new types.MultiPart(q,T,!1)]),u.location));if(u[1]instanceof Array)return 0===u[1].length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected at least a function name within ",new types.ColoredPart("the parentheses",u[1].location)]),u.location),u[1][0]instanceof w||
D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected a function name after the open parenthesis but found ",new types.ColoredPart("something else",u[1][0].location)]),u.location),u[1].forEach(function(V){V instanceof w||D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected a variable name but found ",new types.ColoredPart("something else",V.location)]),u.location)}),3>u.length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected an expression for the function body, but nothing's there"]),
u.location),T=u[1].slice(1).map(fa),T.location=u[1].location,new C(fa(u[1][0]),T,P(u[2]),u);if(u[1]instanceof w)return 3>u.length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected an expression after the variable ",new types.ColoredPart(u[1].val,u[1].location)," but nothing's there"]),u.location),new F(fa(u[1]),P(u[2]),u);D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected a name (or a function name and its variables) "," and an expression, but found",
new types.ColoredPart("something else",u[1].location)]),u.location)}function ea(u){if(3!==u.length){var T=u.slice(1).map(function(q){return q.location});T=4>u.length?" fewer than two":new types.MultiPart("more than two parts",T,!1);D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected exactly two parts for the value: a name and an expression, but found",T]),u.location)}if(u[1]instanceof w)return 3>u.length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),
": expected an expression after the name ",new types.ColoredPart(u[1].val,u[1].location)," but nothing's there"]),u.location),new F(fa(u[1]),P(u[2]),u);D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected a name but found ",new types.ColoredPart("something else",u[1].location)]),u.location)}function ja(u){if(3!==u.length){var T=u.slice(1).map(function(q){return q.location});T=4>u.length?" fewer than two":new types.MultiPart("more than two parts",T,!1);D(new types.Message([new types.ColoredPart(u[0].val,
u[0].location),": expected exactly two parts for the function: a header (function name and variables, in parentheses) and a body (any expression), but found",T]),u.location)}if(u[1]instanceof Array)return 0===u[1].length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected at least a function name within ",new types.ColoredPart("the parentheses",u[1].location)]),u.location),u[1][0]instanceof w||D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected a function name after the open parenthesis but found ",
new types.ColoredPart("something else",u[1][0].location)]),u.location),u[1].forEach(function(q){q instanceof w||D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected a variable name, but found ",new types.ColoredPart("something else",q.location)]),u.location)}),3>u.length&&D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected an expression for the function body after ",new types.ColoredPart("the header",u[1].location,!1),", but nothing's there"]),
u.location),T=u[1].slice(1).map(fa),T.location=u[1].location,new C(fa(u[1][0]),T,P(u[2]),u);D(new types.Message([new types.ColoredPart(u[0].val,u[0].location),": expected a header (function name and variables, in parentheses) and a body for the function"]),u.location)}var Y=x(g)?y(g):G(g)?da(g):W(g)?M(g):N(g)?ea(g):S(g)?ja(g):D(new types.Message([": expected to find a definition, but found: "+g]),g.location);Y.location=g.location;return Y}function P(g){return f(g)?aa(g):ma(g)}function aa(g){function y(q){k(q[0],
"unquote")&&D(new types.Message(["misuse of a comma or 'unquote, not under a quasiquoting backquote"]),q.location,"Error-GenericSyntacticError");k(q[0],"unquote-splicing")&&D(new types.Message(["misuse of a ,@ or unquote-splicing, not under a quasiquoting backquote"]),q.location,"Error-GenericSyntacticError");k(q[0],"else")&&D(new types.Message([new types.ColoredPart(q[0].val,q.location),": not allowed ",new types.ColoredPart("here",q.location),", because this is not a question in a clause"]),q.location);
return f(q)?new r(P(q[0]),q.slice(1).map(P),q[0]):D(new types.Message(["function call sexp"]),q.location)}function M(q){1===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected at least one variable (in parentheses) after lambda, but nothing's there"]),q.location);q[1]instanceof Array||D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected at least one variable (in parentheses) after lambda, but found ",new types.ColoredPart("something else",
q[1].location)]),q.location);q[1].forEach(function(ba){ba instanceof w||(ba=new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a list of variables after lambda, but found ",new types.ColoredPart("something else",ba.location)]),D(ba,q.location))});2===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected an expression for the function body, but nothing's there"]),q.location);if(3<q.length){var V=q.slice(3).map(function(ba){return ba.location}),
sa=V.length+" extra "+(1===V.length?"part":"parts");V=new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected only one expression for the function body, but found ",new types.MultiPart(sa,V,!1)]);D(V,q.location)}V=q[1].map(fa);V.location=q[1].location;return new d(V,P(q[2]),q[0])}function da(q){1===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected at least one definition (in square brackets) after local, but nothing's there"]),q.location);
q[1]instanceof Array||D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a collection of definitions, but given ",new types.ColoredPart("something else",q[1].location)]),q[1].location);q[1].forEach(function(ba){K(ba)||D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a definition, but given ",new types.ColoredPart("something else",ba.location)]),ba.location)});2===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),
": expected a single body, but found none"]),q.location);if(3<q.length){var V=q.slice(3).map(function(ba){return ba.location}),sa=V.length+" extra "+(1===V.length?"part":"parts");D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a single body, but found ",new types.MultiPart(sa,V,!1)]),q.location)}return new t(q[1].map(X),P(q[2]),q[0])}function ea(q){3>q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected an expression after the bindings, but nothing's there"]),
q.location);q[1]instanceof Array||D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a key/value pair, but given ",new types.ColoredPart("something else",q[1].location)]),q.location);q[1].forEach(function(ba){ia(ba)||D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a key/value pair, but given ",new types.ColoredPart("something else",ba.location)]),ba.location)});2===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),
": expected an expression after the bindings, but nothing's there"]),q.location);if(3<q.length){var V=q.slice(3).map(function(ba){return ba.location}),sa=V.length+" extra "+(1===V.length?"part":"parts");D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a single body, but found ",new types.MultiPart(sa,V,!1)]),q.location)}return new B(q[1].map(pa),P(q[2]),q[0])}function ja(q){1===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected at least one binding (in parentheses) after let, but nothing's there"]),
q.location);q[1]instanceof Array||D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected sequence of key value pairs, but given ",new types.ColoredPart("something else",q[1].location)]),q[1].location);q[1].forEach(function(ba){ia(ba)||D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a key/value pair, but given ",new types.ColoredPart("something else",ba.location)]),ba.location)});if(3<q.length){var V=q.slice(3).map(function(ba){return ba.location}),
sa=V.length+" extra "+(1===V.length?"part":"parts");D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a single body, but found ",new types.MultiPart(sa,V,!1)]),q.location)}2===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a single body, but found none"]),q.location);return new E(q[1].map(pa),P(q[2]),q)}function Y(q){1===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected an expression after the bindings, but nothing's there"]),
q.location);if(!(q[1]instanceof Array)){var V=new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected sequence of key/value pairs, but given ",new types.ColoredPart("something else",q[1].location)]);D(V,q.location)}q[1].forEach(function(ba){ia(ba)||D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a key/value pair, but given ",new types.ColoredPart("something else",ba.location)]),ba.location)});2===q.length&&D(new types.Message([new types.ColoredPart(q[0].val,
q[0].location),": expected a single body, but found none"]),q.location);if(3<q.length){V=q.slice(3).map(function(ba){return ba.location});var sa=V.length+" extra "+(1===V.length?"part":"parts");D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a single body, but found ",new types.MultiPart(sa,V,!1)]),q.location)}V=q[1].map(pa);V.location=q[1].location;return new A(V,P(q[2]),q[0])}function u(q){4>q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),
": expected a test, a consequence, and an alternative, but all three were not found"]),q.location);if(4<q.length){var V=q.slice(1).map(function(sa){return sa.location});D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected only a test, a consequence, and an alternative, ","but found ",new types.MultiPart("more than three of these",V,!1)]),q.location)}return new v(P(q[1]),P(q[2]),P(q[3]),q[0])}function T(q){function V(ba){return f(ba)?ba.map(V):ba instanceof Array&&0===ba.length?
ba:ma(ba)}2>q.length&&D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a single argument, but did not find one."]),q.location);if(2<q.length){var sa=q.slice(1).map(function(ba){return ba.location});D(new types.Message([new types.ColoredPart(q[0].val,q[0].location),": expected a single argument, but found ",new types.MultiPart("more than one.",sa,!1)]),q.location)}return new c(V(q[1]))}return function(){var q=g[0];a(q)?k("\u03bb",q)?q=M(g):k("lambda",q)?q=M(g):k("local",
q)?q=da(g):k("letrec",q)?q=ea(g):k("let",q)?q=ja(g):k("let*",q)?q=Y(g):k("cond",q)?q=oa(g):k("case",q)?q=qa(g):k("if",q)?q=u(g):k("begin",q)?(2>g.length&&(q=new types.Message([new types.ColoredPart(g[0].val,g[0].location),": Inside a begin, expected to find a body, but nothing was found."]),D(q,g.location)),q=new z(g.slice(1).map(P),g[0])):k("and",q)?(3>g.length&&D(new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected at least 2 arguments, but given ",1===g.length?"0":new types.ColoredPart((g.length-
1).toString(),g[1].location)]),g.location),q=new p(g.slice(1).map(P),g[0])):k("or",q)?(3>g.length&&D(new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected at least 2 arguments, but given ",1===g.length?"0":new types.ColoredPart((g.length-1).toString(),g[1].location)]),g.location),q=new O(g.slice(1).map(P),g[0])):q=k("when",q)?la(g):k("unless",q)?la(g):k("quote",q)?T(g):k("quasiquote",q)?ua(g):k("unquote",q)?ra(g):k("unquote-splicing",q)?Z(g):y(g):q=y(g);q.location=g.location;
return q}()}function la(g){3>g.length&&D(new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected at a test and at least one result after "+g[0]+", but nothing's there"]),g.location);var y=g.slice(2),M=new H(P(g[1]),l(y),g[0]);y.location=y[0].location;M.location=g.location;return M}function oa(g){1===g.length&&D(new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected at least one clause after cond, but nothing's there"]),g.location);var y=[g[0].location,g.location.start(),
g.location.end()];g.slice(1).forEach(function(ea){var ja=[ea.location.start(),ea.location.end()];ea instanceof Array||D(new types.Message([new types.MultiPart(g[0].val,y,!0),": expected a clause with a question and an answer, but found ",new types.ColoredPart("something else",ea.location)]),ea.location);0===ea.length&&D(new types.Message([new types.MultiPart(g[0].val,y,!0),": expected a clause with a question and an answer, but found an ",new types.MultiPart("empty part",ja,!0)]),ea.location);1===
ea.length&&D(new types.Message([new types.MultiPart(g[0].val,y,!0),": expected a clause with a question and an answer, but found a ",new types.MultiPart("clause",ja,!0)," with only ",new types.MultiPart("one part",[ea[0].location],!1)]),ea.location);if(2<ea.length){var Y=ea.map(function(T){return T.location}),u=Y.length+" parts";D(new types.Message([new types.MultiPart(g[0].val,y,!0),": expected a clause with a question and an answer, but found ",new types.MultiPart("a clause",ja,!0)," with ",new types.MultiPart(u,
Y,!1)]),ea.location)}});var M=g.slice(1).length,da=g.slice(1).map(function(ea){var ja=P(ea[0]),Y=P(ea[1]);Y=new ka(ja,Y);-1<plt.compiler.keywords.indexOf(ja.val)&&"else"!==ja.val&&D(new types.Message([new types.ColoredPart(ja.val,ja.location),": expected an open parenthesis before ",ja.val,", but found none"]),ja.location);ja.isClause=!0;Y.location=ea.location;return Y});g.slice(1).forEach(function(ea,ja){a(ea[0])&&k(ea[0],"else")&&ja<M-1&&D(new types.Message([new types.MultiPart("cond",y,!0),": ",
"found an ",new types.ColoredPart("else clause",ea.location)," that isn't the last clause in its cond expression; there is ",new types.ColoredPart("another clause",g[ja+2].location)," after it"]),ea.location)});return new L(da,g[0])}function qa(g){function y(Y){return a(Y[0])&&"else"===Y[0].val}if(1===g.length){var M=new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected at least one clause after case, but nothing's there"]);D(M,g.location)}var da=[g[0].location,g.location.start(),
g.location.end()];2===g.length&&(M=new types.Message([new types.MultiPart(g[0].val,da,!0),": expected a clause with at least one choice (in parentheses) and an answer after the expression, but nothing's there"]),D(M,g.location));M=g.slice(2);M.forEach(function(Y){var u=[Y.location.start(),Y.location.end()];if(!(Y instanceof Array)){var T=new types.Message([new types.MultiPart(g[0].val,da,!0),": expected a clause with at least one choice (in parentheses), but found ",new types.ColoredPart("something else",
Y.location)]);D(T,g.location)}0===Y.length&&(T=new types.Message([new types.MultiPart(g[0].val,da,!0),": expected at least one choice (in parentheses) and an answer, but found an ",new types.ColoredPart("empty part",Y.location)]),D(T,g.location));Y[0]instanceof Array||Y[0]instanceof w&&k(Y[0],"else")||(T=new types.Message([new types.MultiPart(g[0].val,da,!0),": expected 'else', or at least one choice in parentheses, but found ",new types.ColoredPart("something else",Y.location)]),D(T,g.location));
1===Y.length&&(T=new types.Message([new types.MultiPart(g[0].val,da,!0),": expected a clause with a question and an answer, but found a ",new types.MultiPart("clause",u,!0)," with only ",new types.ColoredPart("one part",Y[0].location)]),D(T,g.location));2<Y.length&&(Y=Y.map(function(q){return q.location}),T=Y.length+" parts",T=new types.Message([new types.MultiPart(g[0].val,da,!0),": expected only one expression for the answer in the case clause, but found a ",new types.MultiPart("clause",u,!0)," with ",
new types.MultiPart(T,Y,!1)]),D(T,g.location))});var ea=M.length,ja=M.map(function(Y){var u=y(Y)?Y[0]:new c(Y[0]),T=P(Y[1]);T=new ka(u,T);u.isClause=!0;T.location=Y.location;return T});M.forEach(function(Y,u){y(Y)&&u<ea-1&&(Y=new types.Message([new types.MultiPart("case",da,!0),": found an ",new types.ColoredPart("else clause",Y.location),"that isn't the last clause in its case expression; there is ",new types.ColoredPart("another clause",g[u+2].location)," after it"]),D(Y,g.location))});return new e(P(g[1]),
ja,g[0])}function pa(g){if(ia(g)){var y=new ka(fa(g[0]),P(g[1]));y.location=g.location;y.stx=g;return y}D(new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected a sequence of key/value pairs, but given ",new types.ColoredPart("something else",g[0].location)]),g.location)}function ra(g,y){if("undefined"===typeof y)D(new types.Message(["misuse of a comma or 'unquote, not under a quasiquoting backquote"]),g.location,"Error-GenericSyntacticError");else if(2!==g.length)D(new types.Message(["Inside an unquote, expected to find a single argument, but found "+
(g.length-1)]),g.location);else{if(1===y)return y=new b(P(g[1])),y.location=g[1].location,y;if(1<y)return y=new b(ta(g[1],y-1)),y.location=g[1].location,y;D(new types.Message(["ASSERTION FAILURE: depth should have been undefined, or a natural number"]),g.location)}}function Z(g,y){if("undefined"===typeof y)D(new types.Message(["misuse of a ,@ or unquote-splicing, not under a quasiquoting backquote"]),g.location,"Error-GenericSyntacticError");else if(2!==g.length)D(new types.Message(["Inside an unquote-splicing, expected to find a single argument, but found "+
(g.length-1)]),g.location);else{if(1===y)return y=new h(P(g[1])),y.location=g[1].location,y;if(1<y)return y=new h(ta(g[1],y-1)),y.location=g[1].location,y;D(new types.Message(["ASSERTION FAILURE: depth should have been undefined, or a natural number"]),g.location)}}function ta(g,y){if(f(g)&&"unquote"===g[0].val)return ra(g,y);if(f(g)&&"unquote-splicing"===g[0].val)return Z(g,y);if(f(g)&&"quasiquote"===g[0].val)return ua(g,y);if(f(g)){var M=g.map(function(da){return ta(da,y)});M.location=g.location;
return M}return 0===y?P(g):function(){var da=new c(g);da.location=g.location;return da}()}function ua(g,y){y="undefined"===typeof y?0:y;2>g.length&&D(new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected a single argument, but did not find one "]),g.location);if(2<g.length){var M=g.slice(1).map(function(da){return da.location});D(new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected a single argument, but found ",new types.MultiPart("more than one.",M,
!1)]),g.location)}f(g[1])&&k(g[1][0],"unquote-splicing")&&D(new types.Message(["misuse of ,@ or `unquote-splicing' within a quasiquoting backquote"]),g.location);y=ta(g[1],y+1);y.location=g[1].location;y=new n(y);y.location=g.location;return y}function va(g){function y(){var ja=new J(0);ja.location=g.location;return ja}var M=g.val,da=m(M.elts.filter(function(ja){return void 0!==ja})),ea=0===da.length?y():da[da.length-1];da=M.elts.map(function(ja){return void 0===ja?ea:P(ja)});M=new w("vector");da=
new r(M,da);M.location=da.location=g.location;return da}function ma(g){var y=g instanceof ha?g:types.isVector(g.val)?va(g):a(g)?g:g instanceof J?g:k("quote",g)?new c(g):k("empty",g)?new r(new w("list"),[]):new r(null,[]);y.location=g.location;return y}function fa(g){return a(g)?g:D(new types.Message(["ID"]),g.location)}function ia(g){return f(g)&&2===g.length}function na(g){return f(g)&&a(g[0])&&k(g[0],"require")}function wa(g){if(2>g.length){var y=new types.Message([new types.ColoredPart(g[0].val,
g[0].location),": expected a module name after `require', but found nothing"]);D(y,g.location)}g[1]instanceof Array&&k(g[1][0],"lib")?(3>g[1].length&&(y=g[1].slice(1).length,y+=1===y?" part":" parts",y=new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected at least two strings after ",new types.ColoredPart("lib",g[1][0].location)," but found only ",y]),D(y,g.location)),g[1].slice(1).forEach(function(M){types.isString(M.val)||(M=new types.Message([new types.ColoredPart(g[0].val,
g[0].location),": expected a string for a library collection, but found ",new types.ColoredPart("something else",str.location)]),D(M,g.location))})):g[1]instanceof Array&&k(g[1][0],"planet")?(y=new types.Message([new types.ColoredPart(g[0].val,g[0].location),": Importing PLaneT pacakges is not supported at this time"]),D(y,g.location)):g[1]instanceof w||types.isString(g[1].val)||(y=new types.Message([new types.ColoredPart(g[0].val,g[0].location),": expected a module name as a string or a `(lib ...)' form, but found ",
new types.ColoredPart("something else",g[1].location)]),D(y,g.location));y=new Q(g[1],g[0]);y.location=g.location;return y}function ca(g){return f(g)&&a(g[0])&&k(g[0],"provide")}function xa(g){var y=g.slice(1).map(function(M){if(M instanceof w||M instanceof Array&&2==M.length&&M[0]instanceof w&&k(M[0],"struct-out")&&M[1]instanceof w)return M;M=new types.Message([new types.ColoredPart(g[0].val,g[0].location),": I don't recognize the syntax of this ",new types.ColoredPart("clause",M.location)]);D(M,
g.location)});y=new U(y,g[0]);y.location=g.location;return y}var J=plt.compiler.literal,w=plt.compiler.symbolExpr,ka=plt.compiler.couple,v=plt.compiler.ifExpr,z=plt.compiler.beginExpr,E=plt.compiler.letExpr,A=plt.compiler.letStarExpr,B=plt.compiler.letrecExpr,t=plt.compiler.localExpr,p=plt.compiler.andExpr,O=plt.compiler.orExpr,L=plt.compiler.condExpr,e=plt.compiler.caseExpr,d=plt.compiler.lambdaExpr,c=plt.compiler.quotedExpr,b=plt.compiler.unquotedExpr,n=plt.compiler.quasiquotedExpr,h=plt.compiler.unquoteSplice,
r=plt.compiler.callExpr,H=plt.compiler.whenUnlessExpr,C=plt.compiler.defFunc,F=plt.compiler.defVar,R=plt.compiler.defVars,I=plt.compiler.defStruct,Q=plt.compiler.requireExpr,U=plt.compiler.provideStatement,ha=plt.compiler.unsupportedExpr,D=plt.compiler.throwError;plt.compiler.parse=function(g,y){var M=(new Date).getTime();try{var da=l(g);da.location=g.location}catch(ea){throw console.log("PARSING ERROR"),ea;}g=(new Date).getTime();y&&(console.log("Parsed in "+Math.floor(g-M)+"ms"),console.log(da));
return da}})();plt.compiler.topLevelModules={};plt.compiler.knownModules={};plt.compiler.knownCollections={};window.plt=window.plt||{};plt.compiler=plt.compiler||{};
(function(){function a(ka){return function(v){v[3]=v[3]||[];v[4]=v[4]||!1;v[5]=v[5]||!1;return new k(v[0],ka,v[1],v[2],v[3],v[4],v[5])}}var f=plt.compiler.moduleBinding,k=plt.compiler.functionBinding,m=plt.compiler.constantBinding,l=new f("moby/runtime/kernel/misc",[["verify-boolean-branch-value",2],["throw-cond-exhausted-error",1],["'check-operator-is-function",3],["print-values",0]].map(a('"moby/runtime/kernel/misc"'))),x=new f("moby/foreign",[["get-js-object",2,!1,["android.permission.FOREIGN-FUNCTION-INTERFACE"]]].map(a('"moby/foreign"'))),
G=new f("world-effects",[["make-effect:none",0,!1],["make-effect:beep",0,!1,["android.permission.VIBRATE"]],["make-effect:play-dtmf-tone",2,!1],["make-effect:send-sms",2,!1,["android.permission.SEND-SMS"]],["make-effect:play-sound",1,!1,["android.permission.INTERNET"]],["make-effect:stop-sound",1,!1],["make-effect:pause-sound",1,!1],["make-effect:set-sound-volume",1,!1],["make-effect:set-beep-volume",1,!1],["make-effect:raise-sound-volume",0,!1],["make-effect:lower-sound-volume",1,!1],["make-effect:set-wake-lock",
1,!1,["android.permission.WAKE-LOCK"]],["make-effect:release-wake-lock",1,!1,["android.permission.WAKE-LOCK"]],["make-effect:pick-playlist",1,!1],["make-effect:pick-random",2,!1]].map(a('"moby/world-effects"'))),N=new f("world-config",[["on-tick",1,!0],["initial-effect",1,!1],["on-key",1,!1],["on-key!",2,!1],["on-mouse",1,!1],["on-tap",1,!1],["on-tilt",1,!1],["on-redraw",1,!1],["to-draw",1,!1],["on-draw",2,!1],["stop-when",1,!1]].map(a('"moby/world-handlers"'))),S=[["START",14,!1],["test-frame",1,
!1],["sine",1,!1],["cosine",1,!1],["tangent",1,!1]],W=new f("bootstrap/bootstrap-teachpack",S.map(a('"bootstrap/bootstrap-teachpack"'))),K=new f("bootstrap2011/bootstrap-teachpack",S.map(a('"bootstrap2011/bootstrap-teachpack"'))),X=new f("bootstrap2012/bootstrap-teachpack",S.map(a('"bootstrap2012/bootstrap-teachpack"'))),P=new f("bootstrap2012/bootstrap-tilt-teachpack",S.map(a('"bootstrap2012/bootstrap-tilt-teachpack"'))),aa=new f("bootstrap2014/bootstrap-teachpack",S.map(a('"bootstrap2014/bootstrap-teachpack"'))),
la=new f("bootstrap2014/bootstrap-tilt-teachpack",S.map(a('"bootstrap2014/bootstrap-tilt-teachpack"'))),oa=new f("bootstrap2015/bootstrap-teachpack",S.map(a('"bootstrap2015/bootstrap-teachpack"')));S=new f("bootstrap2015/bootstrap-tilt-teachpack",S.map(a('"bootstrap2015/bootstrap-tilt-teachpack"')));var qa=new f("bootstrap/cage-teachpack",[["start",1,!1]].map(a('"bootstrap/cage-teachpack"'))),pa=new f("bootstrap2011/cage-teachpack",[["start",1,!1]].map(a('"bootstrap2011/cage-teachpack"'))),ra=new f("bootstrap2012/cage-teachpack",
[["start",1,!1]].map(a('"bootstrap2012/cage-teachpack"'))),Z=new f("bootstrap2014/cage-teachpack",[["start",1,!1]].map(a('"bootstrap2014/cage-teachpack"')));cageTeachpack2015=new f("bootstrap2015/cage-teachpack",[["start",1,!1]].map(a('"bootstrap2015/cage-teachpack"')));var ta=new f("bootstrap2020/boolean-teachpack",[["start",1,!1]].map(a('"bootstrap2020/boolean-teachpack"'))),ua=new f("bootstrap/function-teachpack",[["start",1,!1]].map(a('"bootstrap/function-teachpack"'))),va=new f("bootstrap2011/function-teachpack",
[["start",1,!1]].map(a('"bootstrap2011/function-teachpack"'))),ma=new f("bootstrap2012/function-teachpack",[["start",1,!1]].map(a('"bootstrap2012/function-teachpack"'))),fa=new f("bootstrap2014/function-teachpack",[["start",1,!1]].map(a('"bootstrap2014/function-teachpack"'))),ia=new f("bootstrap2015/function-teachpack",[["start",1,!1]].map(a('"bootstrap2015/function-teachpack"'))),na=new f("location",[["get-latitude",0,!1,["android.permission.LOCATION"]],["get-longitude",0,!1,["android.permission.LOCATION"]],
["get-altitude",0,!1,["android.permission.LOCATION"]],["get-bearing",0,!1,["android.permission.LOCATION"]],["get-speed",0,!1,["android.permission.LOCATION"]],["location-distance",0,!1,["android.permission.LOCATION"]]].map(a('"moby/geolocation"'))),wa=new f("tilt",[["get-x-acceleration",0,!1,["android.permission.TILT"]],["get-y-acceleration",0,!1,["android.permission.TILT"]],["get-z-acceleration",0,!1,["android.permission.TILT"]],["get-azimuth",0,!1,["android.permission.TILT"]],["get-pitch",0,!1,["android.permission.TILT"]],
["get-roll",0,!1,["android.permission.TILT"]]].map(a('"moby/tilt"'))),ca=new f("telephony",[["get-signal-strength",0,!1,["android.permission.TELEPHONY"]]].map(a('"moby/net"'))),xa=new f("net",[["get-url",1,!1,["android.permission.INTERNET"]]].map(a('"moby/net"'))),J=new f("parser",[["xml->s-sexp",1,!1]].map(a('"moby/parser"'))),w=new f("jsworld",[["js-big-bang",1,!1],["big-bang",1,!1],["js-div",0,!1],["js-p",0,!1],["js-button",2,!1],["js-button!",2,!1],["js-node",1,!1],["js-text",1,!1],["js-select",
2,!1],["js-img",1,!1,["android.permission.INTERNET"]]].map(a('"moby/jsworld"')));G=new f("world",N.bindings.concat(G.bindings,"key=? play-sound animate big-bang make-color color? color-red color-green color-blue color-alpha empty-scene empty-image scene+line put-image place-image place-image/align circle star polygon radial-star star-polygon nw:rectangle rectangle regular-polygon rhombus square triangle triangle/sas triangle/sss triangle/ass triangle/ssa triangle/aas triangle/asa triangle/saa right-triangle isosceles-triangle ellipse line add-line add-polygon overlay overlay/xy overlay/align underlay underlay/xy underlay/align beside beside/align above above/align rotate scale scale/xy crop frame flip-horizontal flip-vertical reflect-x reflect-y text text/font video/url bitmap/url image-url image? image=? image-width image-height mouse-event? mouse=? image->color-list color-list->image color-list->bitmap image-baseline mode? image-color? name->color x-place? y-place? angle? side-count? step-count?".split(" ").map(function(ka){var v=
-1<["video/url","bitmap/url","image-url"].indexOf(ka)?["android.permission.INTERNET"]:[];return new m(ka,'"moby/world"',v,!1)})));f=new f("moby/topLevel",[["<",2,!0],["<=",2,!0],["=",2,!0],[">",2,!0],[">=",2,!0],["<>",2,!0],["=~",3],["number->string",1],["even?",1],["odd?",1],["positive?",1],["negative?",1],["number?",1],["rational?",1],["quotient",2],["remainder",2],["numerator",1],["denominator",1],["integer?",1],["real?",1],["abs",1],["acos",1],["add1",1],["angle",1],["asin",1],["atan",1,!0],["ceiling",
1],["complex?",1],["conjugate",1],["cos",1],["cosh",1],["denominator",1],["even?",1],["exact->inexact",1],["exact?",1],["exp",1],["expt",2],["floor",1],["gcd",1,!0],["imag-part",1],["inexact->exact",1],["inexact?",1],["integer->char",1],["integer-sqrt",1],["integer?",1],["lcm",1,!0],["log",1],["magnitude",1],["make-polar",2],["make-rectangular",2],["max",1,!0],["min",1,!0],["modulo",2],["negative?",1],["number?",1],["numerator",1],["odd?",1],["positive?",1],["random",1],["rational?",1],["real-part",
1],["real?",1],["round",1],["sgn",1],["sin",1],["sinh",1],["sqr",1],["sqrt",1],["nth-root",2],["sub1",1],["tan",1],["zero?",1],["+",0,!0],["-",1,!0],["*",0,!0],["/",1,!0],["not",1],["false?",1],["boolean?",1],["boolean=?",2],["symbol->string",1],["symbol=?",2],["symbol?",1],["append",0,!0],["assq",2],["assv",2],["assoc",2],["caaar",1],["caadr",1],["caar",1],["cadar",1],["cadddr",1],["caddr",1],["cadr",1],["car",1],["cddar",1],["cdddr",1],["cddr",1],["cdr",1],["cdaar",1],["cdadr",1],["cdar",1],["cons?",
1],["list?",1],["cons",2],["empty?",1],["length",1],["list",0,!0],["list*",1,!0],["range",3],["list-ref",2],["remove",2],["remove-all",2],["member",2],["member?",2],["memq",2],["memv",2],["null?",1],["pair?",1],["rest",1],["reverse",1],["first",1],["second",1],["third",1],["fourth",1],["fifth",1],["sixth",1],["seventh",1],["eighth",1],["make-list",2],["box",1],["unbox",1],["set-box!",2],["box?",1],["make-posn",2],["posn-x",1],["posn-y",1],["posn?",1],["char->integer",1],["char-alphabetic?",1],["char-ci<=?",
2,!0],["char-ci<?",2,!0],["char-ci=?",2,!0],["char-ci>=?",2,!0],["char-ci>?",2,!0],["char-downcase",1],["char-lower-case?",1],["char-numeric?",1],["char-upcase",1],["char-upper-case?",1],["char-whitespace?",1],["char<=?",2,!0],["char<?",2,!0],["char=?",2,!0],["char>=?",2,!0],["char>?",2,!0],["char?",1],["format",1,!0],["list->string",1],["make-string",2],["replicate",2],["string",0,!0],["string->list",1],["string->number",1],["string->symbol",1],["string-alphabetic?",1],["string-append",0,!0],["string-contains?",
2],["string-ci<=?",2,!0],["string-ci<?",2,!0],["string-ci=?",2,!0],["string-ci<>?",2,!0],["string-ci>=?",2,!0],["string-ci>?",2,!0],["string-copy",1],["string-length",1],["string-lower-case?",1],["string-numeric?",1],["string-ref",2],["string-upper-case?",1],["string-whitespace?",1],["string<=?",2,!0],["string<?",2,!0],["string=?",2,!0],["string<>?",2,!0],["string>=?",2,!0],["string>?",2,!0],["string?",1],["substring",3],["string-ith",2],["int->string",1],["string->int",1],["explode",1],["implode",
1],["eof-object?",1],["=~",3],["eq?",2],["equal?",2],["equal~?",3],["eqv?",2],["error",2],["identity",1],["struct?",1],["current-seconds",0],["andmap",1,!0],["apply",2,!0],["argmax",2],["argmin",2],["build-list",2],["build-string",2],["compose",0,!0],["filter",2],["foldl",2,!0],["foldr",2,!0],["map",1,!0],["for-each",1,!0],["memf",2],["ormap",1,!0],["procedure?",1],["quicksort",2],["sort",2],["void",0,!0],["xml->s-exp",1],["build-vector",2],["make-vector",1,!0],["vector",0,!0],["vector-length",1],
["vector-ref",2],["vector-set!",3],["vector->list",1],["list->vector",1],["vector?",1],["printf",1,!0],["display",1],["write",1],["newline",0],["call/cc",1],["procedure-arity",1],["check-expect",2],["EXAMPLE",2],["check-within",3],["check-error",2],["make-hasheq",0],["make-hash",0],["hash-set!",3],["hash-ref",3],["hash-remove!",2],["hash-map",2],["hash-for-each",2],["hash?",1],["raise",1],["undefined?",1],["values",0,!0],["make-struct-type",4,!0],["make-struct-field-accessor",2,!0],["make-struct-field-mutator",
2,!0],["current-continuation-marks",0,!1],["continuation-mark-set->list",2,!1],["scheme->prim-js",1,!1],["prim-js->scheme",1,!1],["procedure->cps-js-fun",1,!1],["procedure->void-js-fun",1,!1],["js-===",2,!1],["js-get-named-object",1,!1],["js-get-field",2,!0],["js-set-field!",3,!1],["js-typeof",1,!1],["js-instanceof",2,!1],["js-call",2,!0],["js-new",1,!0],["js-make-hash",0,!0],["make-world-config",2,!0],["make-bb-info",2,!1],["bb-info?",1,!1],["bb-info-change-world",1,!1],["bb-info-toplevel-node",
1,!1],["make-effect-type",4,!0],["effect?",1,!1],["world-with-effects",2,!1],["make-render-effect-type",4,!0],["render-effect-type?",1],["render-effect?",1],["make-render-effect-type",4,!0],["values",0,!0],["sleep",0,!0],["current-inexact-milliseconds",0,!1],["make-exn",2,!1],["exn-message",1,!1],["exn-continuation-marks",1,!1]].map(a('"moby/toplevel"')));plt.compiler.topLevelModules=[f,l,,w,G];plt.compiler.knownCollections="bootstrap bootstrap2011 bootstrap2012 bootstrap2014 bootstrap2015 bootstrap2020".split(" ");
plt.compiler.knownModules=[l,w,x,G,W,K,X,aa,oa,P,la,S,qa,pa,ra,Z,cageTeachpack2015,ta,ua,va,ma,fa,ia,na,wa,ca,xa,J,f]})();plt.compiler.desugar={};plt.compiler.analyze={};window.plt=window.plt||{};plt.compiler=plt.compiler||{};
(function(){function a(e,d,c){var b={};e.forEach(function(n){n instanceof K?b[n.val]?B(new types.Message([new types.ColoredPart(d.toString(),d.location),": found ",new types.ColoredPart("a variable",n.location)," that is already used ",new types.ColoredPart("here",b[n.val].location)]),n.location):b[n.val]=n:B("expected identifier "+n.val,n.location)})}function f(e,d){d=plt.compiler.defaultModuleResolver(d);var c=(new plt.compiler.emptyEnv).extendEnv_moduleBinding(d);[e.func].concat(e.args).forEach(function(b){b.context=
c});return e}function k(e,d,c){e=new W(new types.string(e.toString()));var b=new K("verify-boolean-branch-value");e=new fa(e);d=new fa(new W(d.toVector()));var n=new fa(new W(c.location.toVector())),h=new ca(b,[e,d,c,n]);h.location=b.location=c.location;e.location=d.location=n.location=c.location;f(h,"moby/runtime/kernel/misc");return h}function m(e,d,c){d=[[],d||new plt.compiler.pinfo];d=e.reduce(function(b,n){var h=n.desugar(b[1]);if(plt.compiler.isExpression(n)&&c){n=new K("print-values");var r=
new ca(n,[h[0]]);n.location=r.location=h[0].location;h[0]=r;f(r,"moby/runtime/kernel/misc")}h[0].length?b[0]=b[0].concat(h[0]):b[0].push(h[0]);return[b[0],h[1]]},d);d[0].location=e.location;return d}function l(e,d,c){var b="undefined"!=typeof e.location?e.location:e instanceof Array&&"undefined"!=typeof e[0].location?e[0].location:B(types.Message(["ASSERTION FAILURE: couldn't find a usable location"]),new Location(0,0,0,0));e=e.map(function(h){if(0===c&&h instanceof wa)h=h.desugar(d,c);else{var r=
h instanceof Array?l(h,c,c)[0]:h.desugar(d,c)[0];h=new K("list");r=new ca(h,[r]);h.parent=r;r.location=h.location=b;h=[r,d]}return h[0]});var n=new K("append");n.location=b;e=new ca(n,e);e.location=b;return[e,d]}function x(e,d,c,b,n){return new O(e,d,c,b,[],!1,n)}function G(e){this.symbl=e}function N(e,d){var c=d.env,b=c.bindings.keys(),n=types.makeLowLevelEqHash();b.forEach(function(h){n.put(h,c.bindings.get(h))});b=new plt.compiler.env(n);b=e.args.reduce(function(h,r){return h.extend(new p(r.val,
!1,[],r.location))},b);d.env=b;d=e.body.analyzeUses(d,b);d.env=c;return d}function S(e,d){d=function(c,b){return c.reduce(function(n,h){return h.collectDefinitions(n)},b)}(e,d);d=function(c,b){return c.reduce(function(n,h){return h.collectProvides(n)},b)}(e,d);return function(c,b){return c.reduce(function(n,h){return h.analyzeUses(n,n.env)},b)}(e,d)}var W=plt.compiler.literal,K=plt.compiler.symbolExpr,X=plt.compiler.Program,P=plt.compiler.couple,aa=plt.compiler.ifExpr,la=plt.compiler.beginExpr,oa=
plt.compiler.letExpr,qa=plt.compiler.letStarExpr,pa=plt.compiler.letrecExpr,ra=plt.compiler.localExpr,Z=plt.compiler.andExpr,ta=plt.compiler.orExpr,ua=plt.compiler.condExpr,va=plt.compiler.caseExpr,ma=plt.compiler.lambdaExpr,fa=plt.compiler.quotedExpr,ia=plt.compiler.unquotedExpr,na=plt.compiler.quasiquotedExpr,wa=plt.compiler.unquoteSplice,ca=plt.compiler.callExpr,xa=plt.compiler.whenUnlessExpr,J=plt.compiler.defFunc,w=plt.compiler.defVar,ka=plt.compiler.defVars,v=plt.compiler.defStruct,z=plt.compiler.requireExpr,
E=plt.compiler.provideStatement,A=plt.compiler.unsupportedExpr,B=plt.compiler.throwError,t=plt.compiler.structBinding,p=plt.compiler.constantBinding,O=plt.compiler.functionBinding,L=plt.compiler.moduleBinding;X.prototype.desugar=function(e){return[this,e]};J.prototype.desugar=function(e){a([this.name].concat(this.args),this.stx[0],this.location);this.args.forEach(function(c){c instanceof K||B(new types.Message([new types.ColoredPart(this.stx.val,this.stx.location),": expected a variable but found ",
new types.ColoredPart("something else",c.location)]),sexp.location)});e=this.body.desugar(e);var d=new J(this.name,this.args,e[0],this.stx);d.location=this.location;return[d,e[1]]};w.prototype.desugar=function(e){if(this.expr instanceof ma){var d=new J(this.name,this.expr.args,this.expr.body,this.stx);d.location=this.location;return d.desugar(e)}e=this.expr.desugar(e);d=new w(this.name,e[0],this.stx);d.location=this.location;return[d,e[1]]};ka.prototype.desugar=function(e){e=this.expr.desugar(e);
var d=new ka(this.names,e[0],this.stx);d.location=this.location;return[d,e[1]]};v.prototype.desugar=function(e){var d=this,c=["make-"+this.name.val,this.name.val+"?",this.name.val+"-ref",this.name.val+"-set!"].map(function(H){return new K(H)}),b=new K("make-struct-type"),n=[new fa(new K(this.name.val)),new W(!1),new W(this.fields.length),new W(0)],h=new ca(b,n);[h,b].concat(c,n).forEach(function(H){H.location=d.location});c=new ka([this.name].concat(c),h,this.stx);var r=[c];c.location=this.location;
this.fields.forEach(function(H,C){var F=new K("make-struct-field-accessor");C=[new K(d.name.val+"-ref"),new W(C),new fa(new K(H.val))];var R=new ca(F,C),I=new K(d.name.val+"-"+H.val),Q=new w(I,R);[Q,F,R,I].concat(C).forEach(function(U){U.location=H.location});r.push(Q)});return[r,e]};la.prototype.desugar=function(e){e=m(this.exprs,e);var d=new la(e[0],this.stx);d.location=this.location;return[d,e[1]]};ma.prototype.desugar=function(e){this.stx&&a(this.args,this.stx,this.location);e=this.body.desugar(e);
var d=new ma(this.args,e[0],this.stx);d.location=this.location;return[d,e[1]]};ra.prototype.desugar=function(e){var d=m(this.defs,e);e=this.body.desugar(d[1]);d=new ra(d[0],e[0],this.stx);d.location=this.location;return[d,e[1]]};ca.prototype.desugar=function(e){this.func||B(new types.Message([new types.ColoredPart("( )",this.location),": expected a function, but nothing's there"]),this.location);e=m([this.func].concat(this.args),e);var d=new ca(e[0][0],e[0].slice(1),this.stx);d.location=this.location;
return[d,e[1]]};aa.prototype.desugar=function(e){e=m([this.predicate,this.consequence,this.alternative],e);var d=k(this.stx,this.stx.location,e[0][0]);d=new aa(d,e[0][1],e[0][2],this.stx);d.location=this.location;return[d,e[1]]};xa.prototype.desugar=function(e){var d=new la(this.exprs,this.stx),c=new K("void"),b=new ca(c,[],this.stx),n="when"===this.stx.val?d:b,h="when"===this.stx.val?b:d;d.location=this.exprs.location;c.location=b.location=this.location;e=m([this.predicate,n,h],e);d=new aa(e[0][0],
e[0][1],e[0][2],this.stx);d.location=this.location;return[d,e[1]]};pa.prototype.desugar=function(e){e=(new ra(this.bindings.map(function(d){var c=new w(d.first,d.second,d.stx);c.location=d.location;return c}),this.body,this.stx)).desugar(e);e[0].location=this.location;return e};oa.prototype.desugar=function(e){var d=this.bindings.map(function(b){return b.first}),c=this.bindings.map(function(b){return b.second});d=new ma(d,this.body,this.stx);c=new ca(d,c);d.location=c.location=this.location;return c.desugar(e)};
qa.prototype.desugar=function(e){function d(c,b){c=new oa([b],c,b.stx);c.location=b.location;return c}return 0===this.bindings.length?this.body.desugar(e):this.bindings.reduceRight(d,this.body).desugar(e)};ua.prototype.desugar=function(e){var d=new K("throw-cond-exhausted-error"),c=new fa(new W(this.location.toVector())),b=f(new ca(d,[c]),"moby/runtime/kernel/misc");(new K("if")).location=this.stx.location;b.location=d.location=c.location=this.location;for(d=this.clauses.length-1;-1<d;d--)this.clauses[d].first instanceof
K&&"else"===this.clauses[d].first.val&&(this.clauses[d].first.val="true"),b=new aa(this.clauses[d].first,this.clauses[d].second,b,this.stx),b.location=this.location;return b.desugar(e)};va.prototype.desugar=function(e){var d=this,c=new K("if");c.location=d.location;e=e.gensym("val");var b=e[1],n=e[0].gensym("x");e=n[0];var h=n[1],r=new K("void"),H=[b,h,r];n=this.clauses;var C=n[this.clauses.length-1];C.first instanceof K&&"else"===C.first.val?(r=C.second,n.pop()):(r=new ca(r,[],d.stx),r.location=
d.location);C=new K("equal?");var F=new ca(C,[h,b],c),R=new ma([h],F,c);H=H.concat([C,F,R]);b=new P(b,this.expr);n=n.reduceRight(function(I,Q){var U=new K("ormap"),ha=new ca(U,[R,Q.first],d.stx);I=new aa(ha,Q.second,I,c);H=H.concat([U,ha,Q.first,I]);return I},r);n=new oa([b],n,c);H=H.concat([b,n]);H.forEach(function(I){I.location=d.location});return n.desugar(e)};Z.prototype.desugar=function(e){function d(h){var r=k(c.stx,c.stx.location,h[0]),H=2<h.length?d(h.slice(1)):k(c.stx,c.stx.location,h[1]);
h=new W(!1);r=new aa(r,H,h,b);[h,b,r].forEach(function(C){return C.location=c.location});return r}var c=this,b=new K("if");e=m(this.exprs,e);var n=e[0];e=e[1];n=d(n);n.location=c.location;return[n,e]};ta.prototype.desugar=function(e){function d(h,r){var H=h[0];r=r.gensym("tmp");var C=r[1],F=new K("if");C.notOriginalSource=!0;H.stx&&"if"!==H.stx.val&&(F.location=H.location,H.stx=F);r=r[0];H=new P(C,k(c.stx,c.stx.location,H));2==h.length?h=k(b,c.stx.location,h[1]):(r=d(h.slice(1),r),h=r[0],r=r[1]);
h=new aa(C,C,h,new K("if"));F=new oa([H],h,b);[b,C,H,h,h.stx,F].forEach(function(R){return R.location=c.location});return F.desugar(r)}var c=this,b=new K("or");e=m(this.exprs,e);var n=e[0];e=e[1];return d(n,e)};fa.prototype.desugar=function(e){"undefined"===typeof this.location&&B(new types.Message(["ASSERTION ERROR: Every quotedExpr should have a location"]),loc);return function(d,c){return function(b){if(b instanceof ca||b instanceof fa||b instanceof A)return b.desugar(d);if(b instanceof K||b instanceof
W||b instanceof Array)return b=new fa(b),b.location=c,[b,d];B(new types.Message(["ASSERTION ERROR: Found an unexpected item in a quotedExpr"]),c)}}(e,this.location)(this.val)};ia.prototype.desugar=function(e,d){if("undefined"===typeof d)B(new types.Message(["misuse of a ', not under a quasiquoting backquote"]),this.location);else{if(1===d)return this.val.desugar(e);if(1<d){var c=this.val instanceof Array?l(this.val,e,d-1)[0]:this.val.desugar(e,d-1)[0];d=new fa(new K("unquote"));var b=new K("list");
c=[d,c];var n=new ca(b,c);d.location=this.location;d.parent=c;b.location=this.location;b.parent=n;n.location=this.location;return[n,e]}B(new types.Message(["ASSERTION FAILURE: depth should have been undefined, or a natural number"]),this.location)}};wa.prototype.desugar=function(e,d){if("undefined"===typeof d)B(new types.Message(["misuse of a ,@, not under a quasiquoting backquote"]),this.location);else{if(1===d)return this.val.desugar(e);if(1<d){var c=this.val instanceof Array?l(this.val,e,d-1)[0]:
this.val.desugar(e,d-1)[0];d=new fa(new K("unquote-splicing"));var b=new K("list");c=[d,c];var n=new ca(b,c);d.location=this.location;d.parent=c;b.location=this.location;b.parent=n;n.location=this.location;return[n,e]}B(new types.Message(["ASSERTION FAILURE: depth should have been undefined, or a natural number"]),this.location)}};na.prototype.desugar=function(e,d){d="undefined"===typeof d?0:d;if(0<=d)var c=this.val instanceof Array?l(this.val,e,d+1)[0]:this.val.desugar(e,d+1)[0];else B(new types.Message(["ASSERTION FAILURE: depth should have been undefined, or a natural number"]),
this.location);if(0==d)return[c,e];d=new fa(new K("quasiquote"));var b=[d,c],n=new K("list"),h=new ca(n,b);d.parent=b;d.location=this.location;c.parent=b;n.parent=h;n.location=this.location;h.location=this.location;return[h,e]};K.prototype.desugar=function(e){if(!this.isClause&&"else"===this.val){var d=this.parent&&this.parent[0]===this?this.parent.location:this.location;B(new types.Message([new types.ColoredPart(this.val,d),": not allowed ",new types.ColoredPart("here",d),", because this is not a question in a clause"]),
d)}this.parent&&this.parent[0]!==this&&"define"===this.val&&(d=new types.Message([new types.ColoredPart(this.val,this.location),": not allowed inside an expression"]),B(d,this.location));!this.parent&&-1<plt.compiler.keywords.indexOf(this.val)&&"else"!==this.val&&B(new types.Message([new types.ColoredPart(this.val,this.location),": expected an open parenthesis before ",this.val,", but found none"]),this.location);"."===this.val&&(d=new types.Message([this.location.source,":",this.location.startRow.toString(),
":",this.location.startCol.toString(),": read: '.' is not supported as a symbol in WeScheme"]),B(d,this.location,"Error-GenericReadError"));return[this,e]};A.prototype.desugar=function(e){this.location.span=this.errorSpan;B(this.errorMsg,this.location,"Error-GenericReadError")};X.prototype.collectDefinitions=function(e){return e};J.prototype.collectDefinitions=function(e){this.args.forEach(function(c){-1<plt.compiler.keywords.indexOf(c.val)&&B(new types.Message([new types.ColoredPart(c.val,c.location),
": this is a reserved keyword and cannot be used as a variable or function name"]),c.location)});var d=x(this.name.val,!1,this.args.length,!1,this.name.location);return e.accumulateDefinedBinding(d,this.location)};w.prototype.collectDefinitions=function(e){var d=this.expr instanceof ma?x(this.name.val,!1,this.expr.args.length,!1,this.name.location):new p(this.name.val,!1,[],this.name.location);return e.accumulateDefinedBinding(d,this.location)};ka.prototype.collectDefinitions=function(e){var d=this,
c=function(F){return d.stx[1].val+"-"+F.val},b=function(F){return"set-"+d.stx[1].val+"-"+F.val+"!"};if("define-struct"===d.stx[0].val){var n=d.stx[1].val,h=d.stx[2],r="make-"+n,H=n+"?";c=h.map(c);var C=h.map(b);b=d.stx[1].location;c=new t(n,!1,h,r,H,c,C,null,d.stx[1].location);h=x(r,!1,h.length,!1,b);H=x(H,!1,1,!1,b);r=x(n+"-set!",!1,1,!1,b);n=x(n+"-ref",!1,1,!1,b);return e.accumulateDefinedBindings([c,n,h,H,r],d.location)}return this.names.reduce(function(F,R){R=new p(R.val,!1,[],R.location);return F.accumulateDefinedBinding(R,
d.location)},e)};z.prototype.collectDefinitions=function(e){function d(C){return(C=C.match(/^wescheme\/(\w+)$/))?C[1]:!1}function c(C){C=plt.compiler.moduleGuess(h.spec.toString());C=new types.Message(["Found require of the module ",new types.ColoredPart(h.spec.toString(),h.spec.location),", but this module is unknown.",C.name===h.spec.toString()?"":" Did you mean '"+C.name+"'?"]);B(C,h.spec.location,"Error-UnknownModule")}function b(C){var F=window.COLLECTIONS[C].provides.map(function(I){I=new p(I,
new K(C),!1);I.imported=!0;return I}),R=new L(C,F);r=e.accumulateModule(R).accumulateModuleBindings(F)}var n=this.spec instanceof W?this.spec.val.toString():this.spec.toString(),h=this,r;e.modulePathResolver(n,e.currentModulePath)||d(n)||c(n);var H=window.location.protocol+"//"+window.location.host+(d(n)?"/loadProject?publicId="+d(n):"/js/mzscheme-vm/collects/"+n+".js");console.log(H);window.COLLECTIONS&&window.COLLECTIONS[n]?b(n):jQuery.ajax({url:H,success:function(C){try{if(d(n)){var F=(0,eval)("("+
C+")");void 0===window.COLLECTIONS&&(window.COLLECTIONS=[]);var R=plt.compiler.lex(F.source.src,n),I=plt.compiler.parse(R),Q=plt.compiler.desugar(I)[0],U=plt.compiler.analyze(Q),ha=plt.compiler.compile(Q,U);window.COLLECTIONS[n]={name:n,bytecode:(0,eval)("("+ha.bytecode+")"),provides:ha.provides}}else eval(C);C?b(n):c(n)}catch(D){if("moby-failure"===D.type)throw D;C=new types.Message(["A network error occured when trying to load ",new types.ColoredPart(h.spec.toString(),h.spec.location),". Please check your connection and try again."]);
B(C,h.spec.location,"Error-NetworkError")}},error:function(C){c(n)},async:!1});return r};X.prototype.collectProvides=function(e){return e};E.prototype.collectProvides=function(e){function d(c){e.providedNames.put(c,new G(c))}return this.clauses.reduce(function(c,b){if(b instanceof K){if(c.definedNames.containsKey(b.val))return d(b.val),c;c=new types.Message(["The name '",new types.ColoredPart(b.toString(),b.location),"', is not defined in the program, and cannot be provided."]);B(c,b.location)}else if(b instanceof
Array){if(c.definedNames.containsKey(b[1].val)&&c.definedNames.get(b[1].val)instanceof t)return b=c.definedNames.get(b[1].val),[b.name,b.constructor,b.predicate].concat(b.accessors,b.mutators).forEach(d),c;B(new types.Message(["The struct '",new types.ColoredPart(b[1].toString(),b[1].location),"', is not defined in the program, and cannot be provided"]),b.location)}else throw"Impossible: all invalid provide clauses should have been filtered out!";},e)};X.prototype.analyzeUses=function(e,d){return e};
w.prototype.analyzeUses=function(e){e.env.extend(this.expr instanceof ma?x(this.name.val,!1,this.expr.args.length,!1,this.location):new p(this.name.val,!1,[],this.name.location));return this.expr.analyzeUses(e,e.env)};ka.prototype.analyzeUses=function(e){this.names.forEach(function(d){e.env.extend(new p(d.val,!1,[],d.location))});return this.expr.analyzeUses(e,e.env)};J.prototype.analyzeUses=function(e){e.env=e.env.extend(x(this.name.val,!1,this.args.length,!1,this.name.location));return N(this,e)};
ma.prototype.analyzeUses=function(e,d){return N(this,e)};la.prototype.analyzeUses=function(e,d){return this.exprs.reduce(function(c,b){return b.analyzeUses(c,d)},e)};ra.prototype.analyzeUses=function(e,d){e=this.defs.reduce(function(c,b){return b.analyzeUses(c,d)},e);return this.body.analyzeUses(e,e.env)};ca.prototype.analyzeUses=function(e,d){return[this.func].concat(this.args).reduce(function(c,b){return b instanceof Array?b.reduce(function(n,h){return h.analyzeUses(n,n.env)},e):b.analyzeUses(c,
d)},e)};aa.prototype.analyzeUses=function(e,d){return[this.predicate,this.consequence,this.alternative].reduce(function(c,b){return b.analyzeUses(c,d)},e)};K.prototype.analyzeUses=function(e,d){(-1<plt.compiler.keywords.indexOf(this.val)&&(!this.parent||this.parent[0]!==this)||this.parent instanceof P)&&B(new types.Message([new types.ColoredPart(this.val,this.location),": expected an open parenthesis before ",this.val,", but found none"]),this.location);return(d=d.lookup_context(this.val))?(this.bindingLoc=
d.loc,e.accumulateBindingUse(d,e)):e.accumulateFreeVariableUse(this.val,e)};plt.compiler.desugar=function(e,d,c){var b=(new Date).getTime();try{var n=m(e,d,!0),h=n[0]}catch(r){throw console.log("DESUGARING ERROR"),r;}e=(new Date).getTime();c&&(console.log("Desugared in "+Math.floor(e-b)+"ms"),console.log(h),console.log(h.toString()));return n};plt.compiler.analyze=function(e,d){var c=(new Date).getTime();try{var b=S(e,plt.compiler.getBasePinfo("base"))}catch(n){throw console.log("ANALYSIS ERROR"),
n;}e=(new Date).getTime();d&&console.log("Analyzed in "+Math.floor(e-c)+"ms");return b};plt.compiler.provideBindingId=G;plt.compiler.provideBindingStructId=function(e){this.symbl=e}})();plt.compiler.compile={};plt.compiler.localStackReference={};plt.compiler.globalStackReference={};plt.compiler.unboundStackReference={};window.plt=window.plt||{};plt.compiler=plt.compiler||{};
(function(){function a(){}function f(c,b,n){this.name=c;this.isBoxed=b;this.depth=n}function k(c,b,n){this.name=c;this.pos=n;this.depth=b}function m(c){this.name=c}function l(c){return types.isString(c)&&void 0!==c.chars?'"'+c.toString()+'"':c.toBytecode?c.toBytecode():c}function x(c){c=c.toString().replace(/\|/g,"");for(var b="",n="{}[],'` \\\"".split(""),h=0;h<c.length;h++)b+=(-1<n.indexOf(c.charAt(h))?"\\":"")+c.charAt(h);return b.replace(/\n/g,"\\n")}function G(c){d.call(this);this.name=c;this.toBytecode=
function(){return'{"$":"global-bucket","value":"'+x(this.name)+'"}'}}function N(c,b,n,h){d.call(this);this.$="module-variable";this.modidx=c;this.sym=b;this.pos=n;this.phase=h;this.toBytecode=function(){return'{"$":"module-variable","sym":'+this.sym.toBytecode()+',"modidx":'+this.modidx.toBytecode()+',"pos":'+this.pos+',"phase":'+this.phase+"}"}}function S(c,b,n){d.call(this);this.numLifts=c;this.topLevels=b;this.stxs=n;this.toBytecode=function(){return'{"$":"prefix","num-lifts":'+this.numLifts+',"toplevels":['+
this.topLevels.map(function(h){return l(h)}).join(",")+'],"stxs":['+this.stxs.map(l)+"]}"}}function W(c,b,n){d.call(this);this.maxLetDepth=c;this.prefix=b;this.code=n;this.toBytecode=function(){return'{"$":"compilation-top","max-let-depth":'+this.maxLetDepth+',"prefix":'+this.prefix.toBytecode()+',"compiled-indirects":[],"code":'+this.code.toBytecode()+"}"}}function K(c,b,n,h,r){d.call(this);this.depth=c;this.pos=b;this.constant=n;this.ready=h;this.loc=r;this.toBytecode=function(){return'{"$":"toplevel","depth":'+
this.depth.toString()+',"pos":'+this.pos.toString()+',"const?":'+this.constant+',"ready?":'+this.ready+',"loc":'+(this.loc&&this.loc.toVector().toBytecode())+"}"}}function X(c){d.call(this);this.forms=c;this.toBytecode=function(){return'{"$":"seq","forms":['+this.forms.map(l).join(",")+"]}"}}function P(c,b){d.call(this);this.ids=c;this.rhs=b;this.toBytecode=function(){return'{"$":"def-values","ids":['+this.ids.map(l).join(",")+'],"body":'+this.rhs.toBytecode()+"}"}}function aa(c,b,n,h,r,H,C,F,R,I){d.call(this);
this.name=c;this.flags=n;this.numParams=h;this.paramTypes=r;this.rest=H;this.body=I;this.closureMap=C;this.maxLetDepth=R;this.closureTypes=F;this.operatorAndRandLocs=b;this.toBytecode=function(){return'{"$":"lam","name":'+this.name.toBytecode()+',"locs":['+this.operatorAndRandLocs.map(l).join(",")+'],"flags":['+this.flags.map(l).join(",")+'],"num-params":'+this.numParams+',"param-types":['+this.paramTypes.map(l).join(",")+'],"rest?":'+this.rest+',"closure-map":['+this.closureMap.map(l).join(",")+
'],"closure-types":['+this.closureTypes.map(l).join(",")+'],"max-let-depth":'+this.maxLetDepth+',"body":'+this.body.toBytecode()+"}"}}function la(c,b,n){d.call(this);this.count=c;this.boxes=b;this.body=n;this.toBytecode=function(){return'{"$":"let-void","count":'+l(this.count)+',"boxes?":'+l(this.boxes)+',"body":'+this.body.toBytecode()+"}"}}function oa(c,b,n,h,r){d.call(this);this.count=c;this.pos=b;this.boxes=n;this.rhs=h;this.body=r;this.toBytecode=function(){return'{"$":"install-value","count":'+
l(this.count)+',"pos":'+l(this.pos)+',"boxes?":'+l(this.boxes)+',"rhs":'+this.rhs.toBytecode()+',"body":'+this.body.toBytecode()+"}"}}function qa(c,b,n,h,r){d.call(this);this.unbox=c||!1;this.pos=b;this.clear=n;this.flonum=r;this.otherClears=h;this.toBytecode=function(){return'{"$":"localref","unbox?":'+this.unbox+',"pos":'+this.pos+',"clear":'+this.clear+',"other-clears?":'+this.otherClears+',"flonum?":'+this.flonum+"}"}}function pa(c,b){d.call(this);this.rator=c;this.rands=b;this.toBytecode=function(){return'{"$":"application","rator":'+
this.rator.toBytecode()+',"rands":['+this.rands.map(l).join(",")+"]}"}}function ra(c,b,n){d.call(this);this.testExpr=c;this.thenExpr=b;this.elseExpr=n;this.toBytecode=function(){return'{"$":"branch","test":'+this.testExpr.toBytecode()+',"then":'+this.thenExpr.toBytecode()+',"else":'+this.elseExpr.toBytecode()+"}"}}function Z(c,b,n){d.call(this);this.$="with-cont-mark";this.key=c;this.val=b;this.body=n;this.toBytecode=function(){return'{"$":"with-cont-mark","key":'+(new ia(new na(this.key))).toBytecode()+
',"val":'+(new ia(this.val)).toBytecode()+',"body":'+this.body.toBytecode()+"}"}}function ta(c,b){d.call(this);this.$="req";this.reqs=c;this.dummy=b;this.toBytecode=function(){return'{"$":"req","reqs":'+(this.reqs instanceof ia?'"'+this.reqs.val+'"':this.reqs.toBytecode())+',"dummy":'+this.dummy.toBytecode()+"}"}}function ua(c,b){this.path=c;this.base=b;d.call(this);this.toBytecode=function(){return'{"$":"module-path","path":'+l(this.path)+',"base":'+l(this.base)+"}"}}function va(c,b,n){function h(r){return 1>=
r.length?r:n(r[0],r[1])?h(r.slice(1)):[r[0]].concat(h(r.slice(1)))}return h(c.sort(function(r,H){return b(r,H)?-1:b(H,r)}))}function ma(c,b){var n=c[0],h=c[1];c=c[2];h=b.compile(c,h);b=h[0];h=h[1];return[[b].concat(n),h,c]}function fa(c,b){var n=function(F){var R=F.modules.reduce(function(U,ha){return U.concat(ha.bindings)},[]),I=F.usedBindingsHash.values().filter(function(U){return U.moduleSource&&-1===R.indexOf(U)});I=R.concat(I);F=F.freeVariables.concat(F.definedNames.keys());var Q=va(F,function(U,
ha){return U<ha},function(U,ha){return U==ha});F=[!1].concat(Q.map(function(U){return new G(U)}),I.map(function(U){var ha=U.imported?!1:new ua(!1,!1);ha=new ua(U.moduleSource,ha);return new N(ha,new na(U.name),-1,0)}));I=[!1].concat(Q,I.map(function(U){return U.name}));return[new S(0,F,[]),new plt.compiler.globalEnv(I,!1,new plt.compiler.emptyEnv)]}(b),h=n[0];n=n[1];var r=c.filter(plt.compiler.isDefinition),H=c.filter(function(F){return F instanceof O}),C=c.filter(plt.compiler.isExpression);b=H.reduceRight(ma,
[[],b,n]);c=b[0];b=b[1];b=r.reduceRight(ma,[[],b,n]);r=b[0];b=b[1];b=C.reduceRight(ma,[[],b,n]);n=b[0];b=b[1];n=new X([].concat(c,r,n));return{bytecode:"/* runtime-version: local-compiler-summer2014 */\n"+(new W(0,h,n)).toBytecode(),permissions:b.permissions(),provides:b.providedNames.keys()}}var ia=plt.compiler.literal,na=plt.compiler.symbolExpr,wa=plt.compiler.Program,ca=plt.compiler.ifExpr,xa=plt.compiler.beginExpr,J=plt.compiler.localExpr,w=plt.compiler.andExpr,ka=plt.compiler.orExpr,v=plt.compiler.lambdaExpr,
z=plt.compiler.quotedExpr,E=plt.compiler.callExpr,A=plt.compiler.defFunc,B=plt.compiler.defVar,t=plt.compiler.defVars,p=plt.compiler.defStruct,O=plt.compiler.requireExpr,L=plt.compiler.provideStatement,e=function(c){var b=function(){};b.prototype=c;return new b};ia.prototype.toBytecode=function(){return'{"$":"constant","value":'+(this.val.toBytecode?this.val.toBytecode():!0===this.val?"true":!1===this.val?"false":this.toString())+"}"};na.prototype.toBytecode=function(){return'types.symbol("'+x(this.val)+
'")'};Vector.prototype.toBytecode=function(){return"types.vector(["+this.elts.join(",")+"])"};Array.prototype.toBytecode=function(c){return"types."+(0===this.length?"EMPTY":"list(["+this.map(l).join(",")+"])")};jsnums.Rational.prototype.toBytecode=function(){return"types.rational("+l(this.n)+", "+l(this.d)+")"};jsnums.BigInteger.prototype.toBytecode=function(){return'types.bignum("'+this.toString()+'")'};jsnums.FloatPoint.prototype.toBytecode=function(){var c=this.toString();"+nan.0"===c&&(c="NaN");
"+inf.0"===c&&(c="Infinity");"-inf.0"===c&&(c="-Infinity");return'types["float"]('+c+")"};jsnums.Complex.prototype.toBytecode=function(){return"types.complex("+l(this.r)+", "+l(this.i)+")"};Char.prototype.toBytecode=function(){return"types['char'](String.fromCharCode("+this.val.charCodeAt(0)+"))"};f.prototype=e(a.prototype);k.prototype=e(a.prototype);m.prototype=e(a.prototype);var d=function(){this.toBytecode=function(){console.log(this);throw"IMPOSSIBLE - generic bytecode toBytecode method was called";
}};G.prototype=e(d.prototype);N.prototype=e(d.prototype);(function(){d.call(this)}).prototype=e(d.prototype);(function(c,b,n){d.call(this);this.datum=c;this.wraps=b;this.certs=n}).prototype=e(d.prototype);(function(c){this.encoded=c;d.call(this)}).prototype=e(d.prototype);S.prototype=e(d.prototype);(function(){d.call(this)}).prototype=e(d.prototype);(function(c){d.call(this)}).prototype=e(d.prototype);(function(c){d.call(this);this.v=c;this.toBytecode=function(){return'{"$":"indirect","v":'+this.v.toBytecode()+
"}"}}).prototype=e(d.prototype);W.prototype=e(d.prototype);(function(c,b,n,h,r,H,C){d.call(this);this.name=c;this.src=b;this.srcName=n;this.nomSrc=h;this.srcPhase=r;this.insp=C;this.isProtected=H}).prototype=e(d.prototype);K.prototype=e(d.prototype);X.prototype=e(d.prototype);P.prototype=e(d.prototype);(function(c,b,n,h){d.call(this);this.$="def-values";this.ids=c;this.rhs=b;this.prefix=n;this.maxLetDepth=h;this.toBytecode=function(){return'{"$":"def-values","ids":['+this.ids.toBytecode().join(",")+
'],"rhs":'+this.rhs.toBytecode()+',"prefix":'+this.prefix.toBytecode()+',"max-let-depth":'+this.maxLetDepth.toBytecode()+"}"}}).prototype=e(d.prototype);(function(c,b,n,h){d.call(this);this.ids=c;this.rhs=b;this.prefix=n;this.maxLetDepth=h}).prototype=e(d.prototype);(function(c,b,n,h,r,H,C,F,R,I,Q,U){d.call(this);this.name=c;this.selfModidx=b;this.prefix=n;this.provides=h;this.requires=r;this.body=H;this.syntaxBody=C;this.unexported=F;this.maxLetDepth=R;this.dummy=I;this.langInfo=Q;this.internalContext=
U;this.toBytecode=function(){return'{"$":"mod","name":'+this.name.toBytecode()+',"self-modidx":'+this.selfModidx.toBytecode()+',"prefix":'+this.prefix.toBytecode()+',"provides":'+this.provides.toBytecode()+',"requires":'+(this.requires&&this.requires.toVector().toBytecode())+',"body":'+this.body.toBytecode()+',"stx-body":'+this.syntaxBody.toBytecode()+',"max-let-depth":'+this.maxLetDepth.toBytecode()+"}"}}).prototype=e(d.prototype);aa.prototype=e(d.prototype);(function(c,b){d.call(this);this.code=
c;this.genId=b;this.toBytecode=function(){return'{"$":"closure","code":'+this.code.toBytecode()+',"gen-id":'+this.genId.toBytecode()+"}"}}).prototype=e(d.prototype);(function(c,b){d.call(this);this.name=c;this.clauses=b;this.toBytecode=function(){return'{"$":"case-lam","name":'+this.name.toBytecode()+',"clauses":'+this.clauses.toBytecode()+"}"}}).prototype=e(d.prototype);(function(c,b,n){d.call(this);this.rhs=c;this.body=b;this.flonum=n;this.toBytecode=function(){return'{"$": "let-one","rhs":'+this.rhs.toBytecode()+
',"body":'+this.body.toBytecode()+',"flonum":'+this.flonum.toBytecode()+"}"}}).prototype=e(d.prototype);la.prototype=e(d.prototype);(function(c,b){d.call(this);this.procs=c;this.body=b;this.toBytecode=function(){return'{"$":"let-rec","procs":'+this.procs.toBytecode()+',"body":'+this.body.toBytecode()+"}"}}).prototype=e(d.prototype);oa.prototype=e(d.prototype);(function(c,b){d.call(this);this.pos=c;this.body=b;this.toBytecode=function(){return'{"$":"boxenv","pos":'+this.pos.toBytecode()+',"body":'+
this.body.toBytecode()+"}"}}).prototype=e(d.prototype);qa.prototype=e(d.prototype);(function(c,b,n){d.call(this);this.depth=c;this.pos=b;this.midpt=n}).prototype=e(d.prototype);pa.prototype=e(d.prototype);ra.prototype=e(d.prototype);Z.prototype=e(d.prototype);(function(c){d.call(this);this.seq=c;this.toBytecode=function(){return'{"$":"beg0","seq":'+this.seq.toBytecode()+"}"}}).prototype=e(d.prototype);(function(c){d.call(this);this.forms=c;this.toBytecode=function(){return'{"$":"splice","forms":'+
this.forms.toBytecode()+"}"}}).prototype=e(d.prototype);(function(c){d.call(this);this.topLevel=c;this.toBytecode=function(){return'{"$":"varref","top-level":'+this.topLevel.toBytecode()+"}"}}).prototype=e(d.prototype);(function(c,b,n){d.call(this);this.id=c;this.rhs=b;this.undefOk=n;this.toBytecode=function(){return'{"$":"assign","id":'+this.id.toBytecode()+',"rhs":'+this.rhs.toBytecode()+',"undef-ok":'+this.undefOk.toBytecode()+"}"}}).prototype=e(d.prototype);(function(c,b){d.call(this);this.proc=
c;this.args=b;this.toBytecode=function(){return'{"$":"apply-values","proc":'+this.proc.toBytecode()+',"args":'+this.args.toBytecode()+"}"}}).prototype=e(d.prototype);(function(c){d.call(this);this.id=c;this.toBytecode=function(){return'{"$":"primval","id":'+this.id.toBytecode()+"}"}}).prototype=e(d.prototype);ta.prototype=e(d.prototype);(function(c,b,n){this.bool1=c;this.bool2=b;this.alist=n;d.call(this)}).prototype=e(d.prototype);(function(c,b,n){this.amt=c;this.src=b;this.dest=n;d.call(this)}).prototype=
e(d.prototype);(function(c){this.val=c;d.call(this)}).prototype=e(d.prototype);(function(c){this.sym=c;d.call(this)}).prototype=e(d.prototype);(function(c,b,n,h,r){this.path=c;this.phase=b;this.srcPhase=n;this.prefix=r;this.exceptions=h;d.call(this)}).prototype=e(d.prototype);(function(){d.call(this)}).prototype=e(d.prototype);(function(c){this.value=c;d.call(this)}).prototype=e(d.prototype);(function(c,b,n,h,r){this.path=c;this.phase=b;this.exportName=h;this.nominalExportName=r;d.call(this)}).prototype=
e(d.prototype);(function(c,b,n,h){this.path=c;this.exportName=b;this.nominalPath=n;this.nominalExportName=h;d.call(this)}).prototype=e(d.prototype);(function(c,b){this.path=c;this.nominalPath=b;d.call(this)}).prototype=e(d.prototype);(function(c,b){this.path=c;this.exportName=b;d.call(this)}).prototype=e(d.prototype);(function(c){this.path=c;d.call(this)}).prototype=e(d.prototype);(function(c,b,n,h,r,H,C){this.phase=c;this.kind=b;this.unmarshals=h;this.renames=r;this.markRenames=H;this.plusKern=C;
d.call(this)}).prototype=e(d.prototype);ua.prototype=e(d.prototype);wa.prototype.freeVariables=function(c,b){return c};ca.prototype.freeVariables=function(c,b){return this.alternative.freeVariables(this.consequence.freeVariables(this.predicate.freeVariables(c,b),b),b)};xa.prototype.freeVariables=function(c,b){return this.exprs.reduceRight(function(n,h){return h.freeVariables(n,b)},c)};na.prototype.freeVariables=function(c,b){return b.lookup(this.val,0)instanceof m&&-1==c.indexOf(this)?c.concat([this]):
c};J.prototype.freeVariables=function(c,b){var n=this.defs.reduce(function(h,r){return(r instanceof t?r.names:[r.name]).concat(h)},[]).reduce(function(h,r){return new plt.compiler.localEnv(r.val,!0,h)},b);c=this.body.freeVariables(c,n);return this.defs.reduce(function(h,r){if(r instanceof A){var H=r.args.reduce(function(C,F){return new plt.compiler.localEnv(F.val,!1,C)},n);return r.body.freeVariables(h,H)}return r instanceof p?h:r.expr.freeVariables(h,n)},c)};w.prototype.freeVariables=function(c,
b){return this.exprs.reduceRight(function(n,h){return h.freeVariables(n,b)},c)};ka.prototype.freeVariables=function(c,b){return this.exprs.reduceRight(function(n,h){return h.freeVariables(n,b)},c)};v.prototype.freeVariables=function(c,b){b=this.args.slice(0).reverse().reduce(function(n,h){return new plt.compiler.localEnv(h.val,!1,n)},b);return this.body.freeVariables(c,b)};z.prototype.freeVariables=function(c,b){return c};E.prototype.freeVariables=function(c,b){return this.func.freeVariables(c,b).concat(this.args).reduceRight(function(n,
h){return h.freeVariables(n,b)},c)};wa.prototype.compile=function(c,b){return[this,b]};A.prototype.compile=function(c,b){b=this.name.compile(c,b);var n=b[0];b=b[1];b=(new v(this.args,this.body)).compile(c,b,!1,this.name);c=b[0];b=b[1];return[new P([n],c),b]};B.prototype.compile=function(c,b){b=this.name.compile(c,b);var n=b[0];b=b[1];b=this.expr.compile(c,b);c=b[0];b=b[1];return[new P([n],c),b]};t.prototype.compile=function(c,b){b=this.names.reduceRight(ma,[[],b,c]);var n=b[0];b=b[1];b=this.expr.compile(c,
b);c=b[0];b=b[1];return[new P(n,c),b]};xa.prototype.compile=function(c,b){c=this.exprs.reduceRight(ma,[[],b,c]);b=c[1];return[new X(c[0]),b]};v.prototype.compile=function(c,b,n,h){function r(F,R){return F.map(function(I){return-1<R.indexOf(I)?I:!1})}function H(F,R){return new plt.compiler.localEnv(R,!1,F)}void 0===n&&(n=!0);var C=this.args.map(function(F){return F.val}).reduce(H,new plt.compiler.emptyEnv);freeVarsInBody=this.body.freeVariables([],C);C=function(F,R,I){var Q=R.map(function(y){return I.lookup(y.val,
0)}),U=function(y,M){return 0===M.length?!1:y(M[0])?M[0]:U(y,M.slice(1))},ha=function(y){return y.depth};if(R=U(function(y){return y instanceof m},Q))throw"Can't produce closure; I don't know where "+R.name+" is bound.";var D=va(Q.filter(function(y){return y instanceof f}),function(y,M){return y.depth<M.depth},function(y,M){return y.depth===M.depth});R=D.map(ha);var g=Q.filter(function(y){return y instanceof k});Q=va(g.map(ha),function(y,M){return y<M},function(y,M){return y===M});F=F.reverse().map(function(y){return y.val}).reduce(H,
I);F=D.reverse().reduce(function(y,M){return M.isBoxed?new plt.compiler.localEnv(M.name,!0,y):H(y,M.name)},F);F=Q.reverse().reduce(function(y,M){var da=g.filter(function(ea){return ea.depth===M}).map(function(ea){return ea.name});da=r(I.peek(M).names,da);return new plt.compiler.globalEnv(da,!1,y)},F);return[Q.concat(R),F]}(this.args.slice(0),freeVarsInBody,c);c=C[0];C=this.body.compile(C[1],b);b=C[0];C=C[1];return[new aa(n?[]:new na(h),[n?this.stx:h].concat(this.args).map(function(F){return F.location.toVector()}),
[],this.args.length,this.args.map(function(){return new na("val")}),!1,c,c.map(function(){return new na("val/ref")}),0,b),C]};J.prototype.compile=function(c,b){function n(C,F,R,I){if(0===C.length)return h.body.compile(H,F);var Q=C[0].compile(R,F),U=Q[0].rhs;F=Q[1];Q=C[0]instanceof t?C[0].names.length:1;C=n(C.slice(1),F,R,I+Q);newBody=C[0];F=C[1];return[new oa(Q,I,!0,U,newBody),F]}if(0===this.defs.length)return this.body.compile(c,b);var h=this,r=this.defs.reduce(function(C,F){return C.concat(F instanceof
t?F.names:F.name)},[]),H=r.reverse().reduce(function(C,F){return new plt.compiler.localEnv(F.val,!0,C)},c);b=n(this.defs,b,H,0);c=b[0];b=b[1];return[new la(r.length,!0,c),b]};E.prototype.compile=function(c,b){var n=this.args.reduce(function(r,H){return new plt.compiler.unnamedEnv(r)},c),h=this.func.compile(n,b);c=h[0];n=this.args.reduceRight(ma,[[],b,n])[0];b=h[1];c=new pa(c,n);h=[this.func.location].concat(this.args.map(function(r){return r.location})).concat(this.location).map(function(r){return r.toVector()});
return[new Z(new na("moby-application-position-key"),h,new Z(new na("moby-stack-record-continuation-mark-key"),this.location.toVector(),c)),b]};ca.prototype.compile=function(c,b){var n=this.predicate.compile(c,b)[0],h=this.consequence.compile(c,b)[0];c=this.alternative.compile(c,b);b=c[1];return[new ra(n,h,c[0]),b]};na.prototype.compile=function(c,b){c=c.lookup(this.val,0);if(c instanceof f)c=new qa(c.isBoxed,c.depth,!1,!1,!1);else if(c instanceof k)c=new K(c.depth,c.pos,!1,!1,this.location);else{if(c instanceof
m)throw"Couldn't find '"+this.val+"' in the environment";throw"IMPOSSIBLE: env.lookup failed for '"+this.val+"'! A reference should be added to the environment!";}return[c,b]};z.prototype.compile=function(c,b){function n(h){return h instanceof ia?n(h.val):h instanceof Array?h.map(n):h}result=new ia(n(this.val));return[result,b]};L.prototype.compile=function(c,b){};O.prototype.compile=function(c,b){return[new ta(this.spec,new K(0,0,!1,!1,!1)),b]};plt.compiler.localStackReference=f;plt.compiler.globalStackReference=
k;plt.compiler.unboundStackReference=m;plt.compiler.compile=function(c,b,n){var h=(new Date).getTime();try{var r=fa(c,b)}catch(H){throw console.log("COMPILATION ERROR"),H;}c=(new Date).getTime();n&&(console.log("Compiled in "+Math.floor(c-h)+"ms"),console.log(JSON.stringify(r)));return r}})();plt.wescheme.RoundRobin={};
(function(){function a(l,x,G,N){x=x.replace(/[\uFEFF\u2060\u200B]/,"");try{var S=(new Date).getTime(),W=plt.compiler.lex(x,l),K=plt.compiler.parse(W),X=plt.compiler.desugar(K)[0],P=plt.compiler.analyze(X),aa=plt.compiler.compile(X,P);G(JSON.stringify(aa))}catch(oa){l=oa;try{var la=JSON.parse(l);JSON.parse(la["structured-error"])}catch(qa){l="!! FATAL ERROR !!\n"+l.stack}l=l.toString();if(/FATAL ERROR/.test(l.toString())){l=JSON.stringify(l);try{console.log("Logging anonymized error message to GDocs"),
document.getElementById("expr").value=x,document.getElementById("local").value=plt.wescheme.BrowserDetect.versionString+" "+l.replace(/\s+/g,"").toLowerCase(),document.getElementById("server").value="FATAL ERROR".replace(/\s+/g,"").toLowerCase(),document.getElementById("errorLogForm").submit()}catch(qa){console.log("LOGGING FAILED.")}N(JSON.stringify(N("The local compiler has failed to run properly. You may want to confirm that you are running a modern web browser (IE9+, Safari 6+, FF 20+, Chrome 20+).")))}else N(l)}N=
(new Date).getTime();console.log("Compiled in: "+Math.floor(N-S)+"ms")}console||={log:function(){}};var f=null,k=null,m=null;plt.wescheme.RoundRobin.initialize=function(l,x){l()};plt.wescheme.RoundRobin.roundRobinCompiler=function(l,x,G,N){if(l===f&&x===k)return G.apply(null,m);a(l,x,function(){var S=[].slice.call(arguments,0);f=l;k=x;m=S;return G.apply(null,arguments)},N)}})();plt.wescheme.runner={};var myEditor=myEditor||{getScreenreader:function(){return!1}};
(function(){var a=function(k){var m=this;this.interactionsDiv=jQuery(k);this.evaluator=new Evaluator({write:function(l){m.addToInteractions(l)}});this.evaluator.setImageProxy("/imageProxy");this.evaluator.setRootLibraryPath("/js/mzscheme-vm/collects");this.evaluator.setDynamicModuleLoader(plt.wescheme.makeDynamicModuleLoader("/js/mzscheme-vm/collects"))};a.prototype.runCompiledCode=function(k,m){var l=this;this.evaluator.executeCompiledProgram((0,eval)("("+k+")"),function(){},function(x){l.renderErrorAsDomNode(x)})};
a.prototype.runSourceCode=function(k,m,l){var x=this;this.evaluator.executeProgram(k,m,function(){},function(G){x.renderErrorAsDomNode(G)})};a.prototype.addToInteractions=function(k){if("CANVAS"===k.nodeName||0<k.childNodes.length){for(;this.interactionsDiv[0].firstChild;)this.interactionsDiv[0].removeChild(this.interactionsDiv[0].firstChild);if(void 0!=k.nodeType)k.style.display="inline-block",k.classList.add("replOutput"),this.interactionsDiv.append(k);else{var m=jQuery("<div style='width: 100%'></div>");
m.text(k);m.style.display="inline-block";this.interactionsDiv.append(m)}this.interactionsDiv.attr("scrollTop",this.interactionsDiv.attr("scrollHeight"))}};a.prototype.renderErrorAsDomNode=function(k){var m=this.evaluator.getMessageFromExn(k),l=document.createElement("div");l["class"]="moby-error";var x=document.createElement("div");x["class"]="moby-error:message";x.appendChild(document.createTextNode(m));l.appendChild(x);k=this.evaluator.getTraceFromExn(k);for(m=0;m<k.length;m++)l.appendChild(document.createTextNode("at: line "+
k[m].line+", column "+k[m].column));return l};var f=function(k,m){plt.wescheme.RoundRobin.initialize(function(){k.setCompileProgram(plt.wescheme.RoundRobin.roundRobinCompiler);m()})};plt.wescheme.runner.Runner=a;plt.wescheme.runner.init=function(k){var m=new a(document.getElementById("interactions"));(new plt.wescheme.AjaxActions).loadProject(null,k,function(l){var x=l.getTitle(),G=l.getSourceCode(),N=l.getPermissions(),S=l.getNotes(),W=jQuery("#interactions");l=document.getElementsByTagName("body")[0];
var K=document.createElement("div"),X=document.createElement("span"),P=document.createElement("span");K.id="description";X.id="title";P.id="notes";X.appendChild(document.createTextNode(x));P.appendChild(document.createTextNode(S));S=function(){var aa=1==W.find("canvas").length?W.find("canvas").get(0):W.get(0);aa.requestFullscreen=aa.requestFullscreen||aa.mozRequestFullScreen||aa.webkitRequestFullscreen||aa.msRequestFullscreen;document.exitFullscreen=document.exitFullscreen||document.webkitExitFullscreen||
document.msExitFullscreen||document.mozCancelFullScreen;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen():aa.requestFullscreen(Element.ALLOW_KEYBOARD_INPUT)};(function(){var aa=document.createElement("div");return void 0!==(aa.webkitRequestFullscreen||aa.mozRequestFullScreen||aa.msRequestFullscreen||aa.requestFullscreen)})()&&jQuery("<input type='button' value='Run Fullscreen'>").css("margin-top","20px").css("display",
"block").css("margin-left","auto").css("margin-right","auto").click(S).appendTo(l);l.insertBefore(X,l.firstChild);K.appendChild(P);l.appendChild(K);document.title=x;f(m.evaluator,function(){m.runSourceCode(x,G,N)});(function(){var aa=document.getElementById("interactions"),la=document.createElement("span");la.id="finished";la.innerHTML="The program has finished running, but only included definitions (which do not produce any output).";0==aa.children.length&&aa.appendChild(la)})()},function(){alert("unable to load program")})}})();
